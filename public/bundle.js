(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _taggedTemplateLiteral(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_templateObject=_taggedTemplateLiteral(["\n      <div class='main'>\n        <h1>MTG table</h1>\n        <button \n          class=\"refresh ",'"\n          onclick=','\n        >\n          <i class="fa fa-refresh ',"\" aria-hidden=\"true\"></i>\n        </button>\n        <input \n          type='text'\n          placeholder='filter'\n          oninput=","\n        />\n        \n        ","\n      </div>\n    "],["\n      <div class='main'>\n        <h1>MTG table</h1>\n        <button \n          class=\"refresh ",'"\n          onclick=','\n        >\n          <i class="fa fa-refresh ',"\" aria-hidden=\"true\"></i>\n        </button>\n        <input \n          type='text'\n          placeholder='filter'\n          oninput=","\n        />\n        \n        ","\n      </div>\n    "]),_templateObject2=_taggedTemplateLiteral([" \n            <div class='row'>\n              <div class='two columns'>","</div> \n              <div class='ten columns'>",", <strong>","</strong></div>\n            </div>\n          "],[" \n            <div class='row'>\n              <div class='two columns'>","</div> \n              <div class='ten columns'>",", <strong>","</strong></div>\n            </div>\n          "]),_inu=require("inu"),_pullDefer=require("pull-defer"),_pullDefer2=_interopRequireDefault(_pullDefer),_xhr=require("xhr"),_xhr2=_interopRequireDefault(_xhr),INITIAL_MODEL={refreshing:!1,pairings:[],filter:void 0},FETCH_PAIRINGS="FETCH_PAIRINGS",REFRESH_PAIRINGS="REFRESH_PAIRINGS",UPDATE_PAIRINGS="UPDATE_PAIRINGS",ADD_FILTER="ADD_FILTER",App={init:function(){return{model:INITIAL_MODEL,effect:{type:FETCH_PAIRINGS}}},update:function(e,n){switch(n.type){case REFRESH_PAIRINGS:return{model:Object.assign({},e,{refreshing:!0}),effect:{type:FETCH_PAIRINGS}};case UPDATE_PAIRINGS:var t=Object.assign({},e,{refreshing:!1});return t.pairings=n.pairings,{model:t};case ADD_FILTER:var r=n.filter?new RegExp(n.filter.split("").join(".*"),"i"):void 0;return{model:Object.assign({},e,{filter:r})};default:return{model:e}}},view:function(e,n){var t=e.filter?e.pairings.filter(function(n){return n.Player.match(e.filter)}):e.pairings;return(0,_inu.html)(_templateObject,e.refreshing?"button-primary":"",function(){return n({type:REFRESH_PAIRINGS})},e.refreshing?"fa-spin":"",function(e){return n({type:ADD_FILTER,filter:e.target.value})},t.map(function(e){return(0,_inu.html)(_templateObject2,e.Table,e.Player.replace(/,.*/,""),e.Player.replace(/[^,]*,/,""))}))},run:function(e){var n=function(){switch(e.type){case FETCH_PAIRINGS:var n=_pullDefer2["default"].source();return _xhr2["default"].get("/data",function(e,t){e&&console.log(e);var r=JSON.parse(t.body),i=r.pairings;n.resolve(_inu.pull.values([{type:UPDATE_PAIRINGS,pairings:i}]))}),{v:n};default:console.log("some unmatched effect",e)}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v}};exports["default"]=App;

},{"inu":12,"pull-defer":22,"xhr":60}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var _inu=require("inu"),_App=require("./App"),_App2=_interopRequireDefault(_App),_start=(0,_inu.start)(_App2["default"]),views=_start.views,main=document.querySelector(".main");(0,_inu.pull)(views(),_inu.pull.drain(function(e){_inu.html.update(main,e)}));

},{"./App":1,"inu":12}],3:[function(require,module,exports){
function belCreateElement(e,t,a){function n(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var a=e[t];if(Array.isArray(a))n(a);else{if(("number"==typeof a||"boolean"==typeof a||a instanceof Date||a instanceof RegExp)&&(a=a.toString()),"string"==typeof a){if(o.lastChild&&"#text"===o.lastChild.nodeName){o.lastChild.nodeValue+=a;continue}a=document.createTextNode(a)}a&&a.nodeType&&o.appendChild(a)}}}var o;SVG_TAGS.indexOf(e)!==-1&&(t.namespace=SVGNS);var l=!1;if(t.namespace&&(l=t.namespace,delete t.namespace),o=l?document.createElementNS(l,e):document.createElement(e),t.onload||t.onunload){var r=t.onload||function(){},i=t.onunload||function(){};onload(o,function(){r(o)},function(){i(o)},belCreateElement.caller.caller.caller),delete t.onload,delete t.onunload}for(var f in t)if(t.hasOwnProperty(f)){var c=f.toLowerCase(),s=t[f];if("classname"===c&&(c="class",f="class"),"htmlFor"===f&&(f="for"),BOOL_PROPS[c])if("true"===s)s=c;else if("false"===s)continue;"on"===c.slice(0,2)?o[f]=s:l?o.setAttributeNS(null,f,s):o.setAttribute(f,s)}return n(a),o}var document=require("global/document"),hyperx=require("hyperx"),onload=require("on-load"),SVGNS="http://www.w3.org/2000/svg",BOOL_PROPS={autofocus:1,checked:1,defaultchecked:1,disabled:1,formnovalidate:1,indeterminate:1,readonly:1,required:1,willvalidate:1},SVG_TAGS=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];module.exports=hyperx(belCreateElement),module.exports.createElement=belCreateElement;

},{"global/document":7,"hyperx":10,"on-load":17}],4:[function(require,module,exports){

},{}],5:[function(require,module,exports){
module.exports=function(){for(var o=0;o<arguments.length;o++)if(void 0!==arguments[o])return arguments[o]};

},{}],6:[function(require,module,exports){
function forEach(r,t,o){if(!isFunction(t))throw new TypeError("iterator must be a function");arguments.length<3&&(o=this),"[object Array]"===toString.call(r)?forEachArray(r,t,o):"string"==typeof r?forEachString(r,t,o):forEachObject(r,t,o)}function forEachArray(r,t,o){for(var n=0,a=r.length;n<a;n++)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}function forEachString(r,t,o){for(var n=0,a=r.length;n<a;n++)t.call(o,r.charAt(n),n,r)}function forEachObject(r,t,o){for(var n in r)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}var isFunction=require("is-function");module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty;

},{"is-function":15}],7:[function(require,module,exports){
(function (global){
var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require("min-document");if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"min-document":4}],8:[function(require,module,exports){
(function (global){
"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
function attributeToProperty(r){return function(t,o,e){for(var n in o)n in transform&&(o[transform[n]]=o[n],delete o[n]);return r(t,o,e)}}module.exports=attributeToProperty;var transform={"class":"className","for":"htmlFor","http-equiv":"httpEquiv"};

},{}],10:[function(require,module,exports){
function quot(T){return T===ATTR_VALUE_SQ||T===ATTR_VALUE_DQ}function has(T,e){return hasOwn.call(T,e)}function selfClosing(T){return closeRE.test(T)}var attrToProp=require("hyperscript-attribute-to-property"),VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4,ATTR_KEY=5,ATTR_KEY_W=6,ATTR_VALUE_W=7,ATTR_VALUE=8,ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10,ATTR_EQ=11,ATTR_BREAK=12;module.exports=function(T,e){function A(T){return"function"==typeof T?T:"string"==typeof T?T:T&&"object"==typeof T?T:t("",T)}T=attrToProp(T),e||(e={});var t=e.concat||function(T,e){return String(T)+String(e)};return function(e){function n(T){var e=[];r===ATTR_VALUE_W&&(r=ATTR);for(var A=0;A<T.length;A++){var t=T.charAt(A);r===TEXT&&"<"===t?(R.length&&e.push([TEXT,R]),R="",r=OPEN):">"!==t||quot(r)?r===TEXT?R+=t:r===OPEN&&/\s/.test(t)?(e.push([OPEN,R]),R="",r=ATTR):r===OPEN?R+=t:r===ATTR&&/[\w-]/.test(t)?(r=ATTR_KEY,R=t):r===ATTR&&/\s/.test(t)?(R.length&&e.push([ATTR_KEY,R]),e.push([ATTR_BREAK])):r===ATTR_KEY&&/\s/.test(t)?(e.push([ATTR_KEY,R]),R="",r=ATTR_KEY_W):r===ATTR_KEY&&"="===t?(e.push([ATTR_KEY,R],[ATTR_EQ]),R="",r=ATTR_VALUE_W):r===ATTR_KEY?R+=t:r!==ATTR_KEY_W&&r!==ATTR||"="!==t?r!==ATTR_KEY_W&&r!==ATTR||/\s/.test(t)?r===ATTR_VALUE_W&&'"'===t?r=ATTR_VALUE_DQ:r===ATTR_VALUE_W&&"'"===t?r=ATTR_VALUE_SQ:r===ATTR_VALUE_DQ&&'"'===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r===ATTR_VALUE_SQ&&"'"===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE_W||/\s/.test(t)?r===ATTR_VALUE&&/\s/.test(t)?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE&&r!==ATTR_VALUE_SQ&&r!==ATTR_VALUE_DQ||(R+=t):(r=ATTR_VALUE,A--):(e.push([ATTR_BREAK]),/[\w-]/.test(t)?(R+=t,r=ATTR_KEY):r=ATTR):(e.push([ATTR_EQ]),r=ATTR_VALUE_W):(r===OPEN?e.push([OPEN,R]):r===ATTR_KEY?e.push([ATTR_KEY,R]):r===ATTR_VALUE&&R.length&&e.push([ATTR_VALUE,R]),e.push([CLOSE]),R="",r=TEXT)}return r===TEXT&&R.length?(e.push([TEXT,R]),R=""):r===ATTR_VALUE&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_DQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_SQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_KEY&&(e.push([ATTR_KEY,R]),R=""),e}for(var r=TEXT,R="",E=arguments.length,_=[],s=0;s<e.length;s++)if(s<E-1){var o=arguments[s+1],l=n(e[s]),f=r;f===ATTR_VALUE_DQ&&(f=ATTR_VALUE),f===ATTR_VALUE_SQ&&(f=ATTR_VALUE),f===ATTR_VALUE_W&&(f=ATTR_VALUE),f===ATTR&&(f=ATTR_KEY),l.push([VAR,f,o]),_.push.apply(_,l)}else _.push.apply(_,n(e[s]));for(var h=[null,{},[]],i=[[h,-1]],s=0;s<_.length;s++){var a=i[i.length-1][0],l=_[s],p=l[0];if(p===OPEN&&/^\//.test(l[1])){var u=i[i.length-1][1];i.length>1&&(i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0))}else if(p===OPEN){var g=[l[1],{},[]];a[2].push(g),i.push([g,a[2].length-1])}else if(p===ATTR_KEY||p===VAR&&l[1]===ATTR_KEY){for(var L,V="";s<_.length;s++)if(_[s][0]===ATTR_KEY)V=t(V,_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_KEY)break;if("object"!=typeof _[s][2]||V)V=t(V,_[s][2]);else for(L in _[s][2])_[s][2].hasOwnProperty(L)&&!a[1][L]&&(a[1][L]=_[s][2][L])}_[s][0]===ATTR_EQ&&s++;for(var U=s;s<_.length;s++)if(_[s][0]===ATTR_VALUE||_[s][0]===ATTR_KEY)a[1][V]?a[1][V]=t(a[1][V],_[s][1]):a[1][V]=A(_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_VALUE&&_[s][1]!==ATTR_KEY){!V.length||a[1][V]||s!==U||_[s][0]!==CLOSE&&_[s][0]!==ATTR_BREAK||(a[1][V]=V.toLowerCase());break}a[1][V]?a[1][V]=t(a[1][V],_[s][2]):a[1][V]=A(_[s][2])}}else if(p===ATTR_KEY)a[1][l[1]]=!0;else if(p===VAR&&l[1]===ATTR_KEY)a[1][l[2]]=!0;else if(p===CLOSE){if(selfClosing(a[0])&&i.length){var u=i[i.length-1][1];i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0)}}else if(p===VAR&&l[1]===TEXT)void 0===l[2]||null===l[2]?l[2]="":l[2]||(l[2]=t("",l[2])),Array.isArray(l[2][0])?a[2].push.apply(a[2],l[2]):a[2].push(l[2]);else if(p===TEXT)a[2].push(l[1]);else if(p!==ATTR_EQ&&p!==ATTR_BREAK)throw new Error("unhandled: "+p)}if(h[2].length>1&&/^\s*$/.test(h[2][0])&&h[2].shift(),h[2].length>2||2===h[2].length&&/\S/.test(h[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(h[2][0])&&"string"==typeof h[2][0][0]&&Array.isArray(h[2][0][2])&&(h[2][0]=T(h[2][0][0],h[2][0][1],h[2][0][2])),h[2][0]}};var hasOwn=Object.prototype.hasOwnProperty,closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-￿_:-]+)*$");

},{"hyperscript-attribute-to-property":9}],11:[function(require,module,exports){
module.exports=require("yo-yo");

},{"yo-yo":63}],12:[function(require,module,exports){
module.exports={start:require("./start"),pull:require("./pull"),html:require("./html")};

},{"./html":11,"./pull":13,"./start":14}],13:[function(require,module,exports){
module.exports=require("pull-stream");

},{"pull-stream":28}],14:[function(require,module,exports){
(function (process){
function start(n){function l(n){f(n)}function t(){Object.keys(v).forEach(function(n){v[n].end()})}n=defined(n,{});var e=defined(n.init,defaultInit),u=defined(n.update,defaultUpdate),i=defined(n.view,noop),r=defined(n.run,noop),f=notify(),a=e.call(n),o=notify();pull(f.listen(),scan(a,function(l,t){return u.call(n,l.model,t)}),pull.drain(o));var c=notify();pull(o.listen(),pull.map(function(n){return n.model}),difference(),pull.drain(c));var p=notify();pull(c.listen(),pull.map(function(t){return i.call(n,t,l)}),pull.filter(isNotNil),pull.drain(p));var d=notify();pull(o.listen(),pull.map(function(n){return n.effect}),pull.filter(isNotNil),pull.drain(d));var s=notify(),v={actions:f,states:o,models:c,views:p,effects:d,effectActionsSources:s},y={};return Object.keys(v).forEach(function(n){var l=v[n].listen;y[n]=["states","models","effects","views"].indexOf(n)!==-1?replayLastValue(l):l}),pull(d.listen(),pull.map(function(l){return r.call(n,l,y)}),pull.filter(isNotNil),pull.drain(s)),pull(s.listen(),drainMany(f)),process.nextTick(function(){o(a)}),Object.assign({},y,{stop:t})}function noop(){}function isNotNil(n){return null!=n}function defaultInit(){return{model:null}}function defaultUpdate(n){return{model:n}}function scan(n,l){return pull.map(function(t){return n=l(n,t)})}function difference(){var n;return pull.filter(function(l){var t=l!==n;return n=l,t})}function drainMany(n){return function(l){pull(l,pull.drain(function(l){pull(l,pull.drain(n))}))}}function replayLastValue(n){var l;return pull(n(),pull.drain(function(n){l=n})),function(){return cat([null==l?void 0:pull.values([l]),n()])}}var defined=require("defined"),pull=require("pull-stream"),notify=require("pull-notify"),cat=require("pull-cat");module.exports=start;

}).call(this,require('_process'))

},{"_process":19,"defined":5,"pull-cat":20,"pull-notify":26,"pull-stream":28}],15:[function(require,module,exports){
function isFunction(o){var t=toString.call(o);return"[object Function]"===t||"function"==typeof o&&"[object RegExp]"!==t||"undefined"!=typeof window&&(o===window.setTimeout||o===window.alert||o===window.confirm||o===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString;

},{}],16:[function(require,module,exports){
function empty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function toElement(e){!range&&document.createRange&&(range=document.createRange(),range.selectNode(document.body));var t;return range&&range.createContextualFragment?t=range.createContextualFragment(e):(t=document.createElement("body"),t.innerHTML=e),t.childNodes[0]}function noop(){}function createElementNS(e,t){return t&&t!==XHTML?document.createElementNS(t,e):document.createElement(e)}function morphAttrs(e,t){var n,r,o,a,i,d,l=t.attributes;for(n=l.length-1;n>=0;n--)r=l[n],o=r.name,i=r.value,a=r.namespaceURI,a?(o=r.localName||o,d=e.getAttributeNS(a,o)):d=e.getAttribute(o),d!==i&&(a?e.setAttributeNS(a,o,i):e.setAttribute(o,i));for(l=e.attributes,n=l.length-1;n>=0;n--)r=l[n],r.specified!==!1&&(o=r.name,a=r.namespaceURI,hasAttributeNS(t,a,a?o=r.localName||o:o)||e.removeAttributeNode(r))}function moveChildren(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function defaultGetNodeKey(e){return e.id}function morphdom(e,t,n){function r(e,t){var n=c(e);if(n?l[n]=e:t||p(e),e.nodeType===ELEMENT_NODE)for(var o=e.firstChild;o;)r(o,t||n),o=o.nextSibling}function o(e){if(e.nodeType===ELEMENT_NODE)for(var t=e.firstChild;t;)c(t)||(p(t),o(t)),t=t.nextSibling}function a(e,t,n){E(e)!==!1&&(t.removeChild(e),n?c(e)||(p(e),o(e)):r(e))}function i(e,t,n,r){var o=c(t);if(o&&delete l[o],!r){if(m(e,t)===!1)return;if(morphAttrs(e,t),s(e),h(e,t)===!1)return}if("TEXTAREA"!==e.nodeName){var d,E,v,T,A,g=t.firstChild,C=e.firstChild;e:for(;g;){for(v=g.nextSibling,d=c(g);C;){var y=c(C);if(E=C.nextSibling,!n&&y&&(A=u[y]))A.parentNode.replaceChild(C,A),i(C,A,n),C=E;else{var O=C.nodeType;if(O===g.nodeType){var M=!1;if(O===ELEMENT_NODE?(compareNodeNames(C,g)&&(y||d?d===y&&(M=!0):M=!0),M&&i(C,g,n)):O!==TEXT_NODE&&O!=COMMENT_NODE||(M=!0,C.nodeValue=g.nodeValue),M){g=v,C=E;continue e}}a(C,e,n),C=E}}d&&((T=l[d])?compareNodeNames(T,g)?(i(T,g,!0),g=T):(delete l[d],p(T)):u[d]=g),f(g)!==!1&&(e.appendChild(g),N(g)),g.nodeType===ELEMENT_NODE&&(d||g.firstChild)&&b.push(g),g=v,C=E}for(;C;)E=C.nextSibling,a(C,e,n),C=E}var S=specialElHandlers[e.nodeName];S&&S(e,t)}if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName){var d=t;t=document.createElement("html"),t.innerHTML=d}else t=toElement(t);var l={},u={},c=n.getNodeKey||defaultGetNodeKey,f=n.onBeforeNodeAdded||noop,N=n.onNodeAdded||noop,m=n.onBeforeElUpdated||n.onBeforeMorphEl||noop,s=n.onElUpdated||noop,E=n.onBeforeNodeDiscarded||noop,p=n.onNodeDiscarded||noop,h=n.onBeforeElChildrenUpdated||n.onBeforeMorphElChildren||noop,v=n.childrenOnly===!0,b=[],T=e,A=T.nodeType,g=t.nodeType;if(!v)if(A===ELEMENT_NODE)g===ELEMENT_NODE?compareNodeNames(e,t)||(p(e),T=moveChildren(e,createElementNS(t.nodeName,t.namespaceURI))):T=t;else if(A===TEXT_NODE||A===COMMENT_NODE){if(g===A)return T.nodeValue=t.nodeValue,T;T=t}if(T===t)p(e);else{i(T,t,!1,v);var C=function(e){for(var t=e.firstChild;t;){var n=t.nextSibling,r=c(t);if(r){var o=l[r];if(o&&compareNodeNames(t,o)){if(t.parentNode.replaceChild(o,t),i(o,t,!0),t=n,empty(l))return!1;continue}}t.nodeType===ELEMENT_NODE&&C(t),t=n}};if(!empty(l))e:for(;b.length;){var y=b;b=[];for(var O=0;O<y.length;O++)if(C(y[O])===!1)break e}for(var M in l)if(l.hasOwnProperty(M)){var S=l[M];p(S),o(S)}}return!v&&T!==e&&e.parentNode&&e.parentNode.replaceChild(T,e),T}var range,testEl="undefined"!=typeof document?document.body||document.createElement("div"):{},XHTML="http://www.w3.org/1999/xhtml",ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8,hasAttributeNS;hasAttributeNS=testEl.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:testEl.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return!!e.getAttributeNode(n)};var specialElHandlers={OPTION:function(e,t){e.selected=t.selected,e.selected?e.setAttribute("selected",""):e.removeAttribute("selected","")},INPUT:function(e,t){e.checked=t.checked,e.checked?e.setAttribute("checked",""):e.removeAttribute("checked"),e.value!==t.value&&(e.value=t.value),hasAttributeNS(t,null,"value")||e.removeAttribute("value"),e.disabled=t.disabled,e.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)}},compareNodeNames=function(e,t){return e.nodeName===t.nodeName&&e.namespaceURI===t.namespaceURI};module.exports=morphdom;

},{}],17:[function(require,module,exports){
function turnon(t,e){watch[t][0]&&0===watch[t][2]&&(watch[t][0](e),watch[t][2]=1)}function turnoff(t,e){watch[t][1]&&1===watch[t][2]&&(watch[t][1](e),watch[t][2]=0)}function eachAttr(t,e,a){var r=t.target.getAttribute(KEY_ATTR);return sameOrigin(t.oldValue,r)?void(watch[r]=watch[t.oldValue]):(watch[t.oldValue]&&a(t.oldValue,t.target),void(watch[r]&&e(r,t.target)))}function sameOrigin(t,e){return!(!t||!e)&&watch[t][3]===watch[e][3]}function eachMutation(t,e){for(var a=Object.keys(watch),r=0;r<t.length;r++){if(t[r]&&t[r].getAttribute&&t[r].getAttribute(KEY_ATTR)){var n=t[r].getAttribute(KEY_ATTR);a.forEach(function(a){n===a&&e(a,t[r])})}t[r].childNodes.length>0&&eachMutation(t[r].childNodes,e)}}var document=require("global/document"),window=require("global/window"),watch=Object.create(null),KEY_ID="onloadid"+(new Date%9e6).toString(36),KEY_ATTR="data-"+KEY_ID,INDEX=0;if(window&&window.MutationObserver){var observer=new MutationObserver(function(t){if(!(Object.keys(watch).length<1))for(var e=0;e<t.length;e++)t[e].attributeName!==KEY_ATTR?(eachMutation(t[e].removedNodes,turnoff),eachMutation(t[e].addedNodes,turnon)):eachAttr(t[e],turnon,turnoff)});observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[KEY_ATTR]})}module.exports=function t(e,a,r,n){return a=a||function(){},r=r||function(){},e.setAttribute(KEY_ATTR,"o"+INDEX),watch["o"+INDEX]=[a,r,0,n||t.caller],INDEX+=1,e};

},{"global/document":7,"global/window":8}],18:[function(require,module,exports){
var trim=require("trim"),forEach=require("for-each"),isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(r){if(!r)return{};var e={};return forEach(trim(r).split("\n"),function(r){var t=r.indexOf(":"),i=trim(r.slice(0,t)).toLowerCase(),o=trim(r.slice(t+1));"undefined"==typeof e[i]?e[i]=o:isArray(e[i])?e[i].push(o):e[i]=[e[i],o]}),e};

},{"for-each":6,"trim":59}],19:[function(require,module,exports){
function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=cachedSetTimeout(cleanUpNextTick);draining=!0;for(var r=queue.length;r;){for(currentQueue=queue,queue=[];++queueIndex<r;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,r=queue.length}currentQueue=null,draining=!1,cachedClearTimeout(e)}}function Item(e,r){this.fun=e,this.array=r}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout=setTimeout}catch(e){cachedSetTimeout=function(){throw new Error("setTimeout is not defined")}}try{cachedClearTimeout=clearTimeout}catch(e){cachedClearTimeout=function(){throw new Error("clearTimeout is not defined")}}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];queue.push(new Item(e,r)),1!==queue.length||draining||cachedSetTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],20:[function(require,module,exports){
function abortAll(n,t,o){function l(){--u||o(t)}var u=n.length;return u?(n.forEach(function(n){n?n(t,l):l()}),void(u||l())):o(t)}var noop=function(){};module.exports=function(n){return function(t,o){!function l(){t?abortAll(n,t,o):n.length?n[0]?n[0](null,function(t,u){t?(n.shift(),t===!0?l():abortAll(n,t,o)):o(null,u)}):(n.shift(),l()):o(!0)}()}};

},{}],21:[function(require,module,exports){
var Source=require("./source"),Sink=require("./sink");module.exports=function(){var e=Source(),r=Sink();return{source:e,sink:r,resolve:function(o){e.resolve(o.source),r.resolve(o.sink)}}};

},{"./sink":23,"./source":24}],22:[function(require,module,exports){
exports.source=require("./source"),exports.through=require("./through"),exports.sink=require("./sink"),exports.duplex=require("./duplex");

},{"./duplex":21,"./sink":23,"./source":24,"./through":25}],23:[function(require,module,exports){
module.exports=function(r){function e(e){if(!e)throw new Error("must be passed a readable");t=e,n&&r(t)}var t,n=!1;Math.random();return e.resolve=e.ready=e.start=function(a){return n=!0,r=a||r,t&&r(t),e},e};

},{}],24:[function(require,module,exports){
module.exports=function(){var r,o,n,e,t=function(t,l){r?r(t,l):t?(e=t,n=l):o=l};return t.resolve=function(t){if(r)throw new Error("already resolved");if(r=t,!r)throw new Error("no read cannot resolve!"+r);o&&t(null,o),n&&t(e,n)},t.abort=function(r){t.resolve(function(o,n){n(r||!0)})},t};

},{}],25:[function(require,module,exports){
module.exports=function(){function r(r){return s?s(r):(e=r,function(r,e){o?o(r,e):(t=r,n=e)})}var e,o,n,t,s;return r.resolve=function(r){if(s)throw new Error("already resolved");if(s=r,!s)throw new Error("resolve *must* be passed a transform stream");e&&(o=s(e),n&&o(t,n))},r};

},{}],26:[function(require,module,exports){
var pushable=require("pull-pushable");module.exports=function(){function n(n){for(var e=0;e<r.length;e++)r[e].push(n);return n}var r=[];return n.listen=function(){var n=pushable(function(){var e=r.indexOf(n);e!==-1&&r.splice(e,1)});return r.push(n),n},n.abort=function(n){for(;r.length;)r[0].end(n)},n.end=function(){return n.abort(!0)},n};

},{"pull-pushable":27}],27:[function(require,module,exports){
function pullPushable(n){function u(n,u){n&&(i=n,f&&t(i)),f=u,l()}function l(){f&&(i?t(i):!o.length&&e?t(e):o.length&&t(null,o.shift()))}function t(u,l){var t=f;if(u&&n){var i=n;n=null,i(u===!0?null:u)}f=null,t(u,l)}var i,f,e,o=[];return u.end=function(n){e=e||n||!0,l()},u.push=function(n){if(!e){if(f)return void t(i,n);o.push(n),l()}},u}module.exports=pullPushable;

},{}],28:[function(require,module,exports){
"use strict";var sources=require("./sources"),sinks=require("./sinks"),throughs=require("./throughs");exports=module.exports=require("./pull");for(var k in sources)exports[k]=sources[k];for(var k in throughs)exports[k]=throughs[k];for(var k in sinks)exports[k]=sinks[k];

},{"./pull":29,"./sinks":34,"./sources":41,"./throughs":50}],29:[function(require,module,exports){
"use strict";module.exports=function r(n){var t=arguments.length;if("function"==typeof n&&1===n.length){for(var e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return function(n){return e.unshift(n),r.apply(null,e)}}var u=n;u&&"function"==typeof u.source&&(u=u.source);for(var o=1;o<t;o++){var f=arguments[o];"function"==typeof f?u=f(u):f&&"object"==typeof f&&(f.sink(u),u=f.source)}return u};

},{}],30:[function(require,module,exports){
"use strict";var reduce=require("./reduce");module.exports=function(e){return reduce(function(e,r){return e.push(r),e},[],e)};

},{"./reduce":37}],31:[function(require,module,exports){
"use strict";var reduce=require("./reduce");module.exports=function(e){return reduce(function(e,r){return e+r},"",e)};

},{"./reduce":37}],32:[function(require,module,exports){
"use strict";module.exports=function(n,t){function o(u){return i=u,r?o.abort():void function f(){for(var o=!0,u=!1;o;)if(u=!1,i(null,function(e,c){if(u=!0,e=e||r){if(o=!1,t)t(e===!0?null:e);else if(e&&e!==!0)throw e}else n&&!1===n(c)||r?(o=!1,i(r||!0,t||function(){})):o||f()}),!u)return void(o=!1)}()}var i,r;return o.abort=function(n,t){if("function"==typeof n&&(t=n,n=!0),r=n||!0,i)return i(r,t||function(){})},o};

},{}],33:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop"),drain=require("./drain");module.exports=function(r,n){var i=!1;return n?r=prop(r)||id:(n=r,r=id),drain(function(u){if(r(u))return i=!0,n(null,u),!1},function(r){i||n(r===!0?null:r,null)})};

},{"../util/prop":57,"./drain":32}],34:[function(require,module,exports){
"use strict";module.exports={drain:require("./drain"),onEnd:require("./on-end"),log:require("./log"),find:require("./find"),reduce:require("./reduce"),collect:require("./collect"),concat:require("./concat")};

},{"./collect":30,"./concat":31,"./drain":32,"./find":33,"./log":35,"./on-end":36,"./reduce":37}],35:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(r){return drain(function(r){console.log(r)},r)};

},{"./drain":32}],36:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(r){return drain(null,r)};

},{"./drain":32}],37:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(n,r,i){return drain(function(i){r=n(r,i)},function(n){i(n,r)})};

},{"./drain":32}],38:[function(require,module,exports){
"use strict";module.exports=function(n){var r=0;return n=n||1/0,function(t,u){return t?u&&u(t):r>n?u(!0):void u(null,r++)}};

},{}],39:[function(require,module,exports){
"use strict";module.exports=function(){return function(t,n){n(!0)}};

},{}],40:[function(require,module,exports){
"use strict";module.exports=function(t){return function(n,u){u(t)}};

},{}],41:[function(require,module,exports){
"use strict";module.exports={keys:require("./keys"),once:require("./once"),values:require("./values"),count:require("./count"),infinite:require("./infinite"),empty:require("./empty"),error:require("./error")};

},{"./count":38,"./empty":39,"./error":40,"./infinite":42,"./keys":43,"./once":44,"./values":45}],42:[function(require,module,exports){
"use strict";module.exports=function(n){return n=n||Math.random,function(t,r){return t?r&&r(t):r(null,n())}};

},{}],43:[function(require,module,exports){
"use strict";var values=require("./values");module.exports=function(e){return values(Object.keys(e))};

},{"./values":45}],44:[function(require,module,exports){
"use strict";var abortCb=require("../util/abort-cb");module.exports=function(r,t){return function(u,e){if(u)return abortCb(e,u,t);if(null!=r){var l=r;r=null,e(null,l)}else e(!0)}};

},{"../util/abort-cb":56}],45:[function(require,module,exports){
"use strict";var abortCb=require("../util/abort-cb");module.exports=function(r,t){if(!r)return function(r,n){return r?abortCb(n,r,t):n(!0)};Array.isArray(r)||(r=Object.keys(r).map(function(t){return r[t]}));var n=0;return function(u,e){return u?abortCb(e,u,t):void e(n>=r.length||null,r[n++])}};

},{"../util/abort-cb":56}],46:[function(require,module,exports){
"use strict";function id(n){return n}var prop=require("../util/prop");module.exports=function(n){if(!n)return id;n=prop(n);var r,u,t=!1;return function(i){return function o(e,c){return u?c(u):void(e?(u=e,t?i(e,function(){t?r=c:c(e)}):i(e,c)):i(null,function(i,e){i?c(i):u?c(u):(t=!0,n(e,function(n,i){t=!1,u?(c(u),r(u)):n?o(n,c):c(null,i)}))}))}}};

},{"../util/prop":57}],47:[function(require,module,exports){
"use strict";var tester=require("../util/tester"),filter=require("./filter");module.exports=function(e){return e=tester(e),filter(function(r){return!e(r)})};

},{"../util/tester":58,"./filter":48}],48:[function(require,module,exports){
"use strict";var tester=require("../util/tester");module.exports=function(t){return t=tester(t),function(r){return function e(n,u){for(var i,o=!0;o;)o=!1,i=!0,r(n,function(r,n){return r||t(n)?void u(r,n):i?o=!0:e(r,u)}),i=!1}}};

},{"../util/tester":58}],49:[function(require,module,exports){
"use strict";var values=require("../sources/values"),once=require("../sources/once");module.exports=function(){return function(n){var u;return function(e,o){function r(){u(null,function(u,e){u===!0?t():u?n(!0,function(n){o(u)}):o(null,e)})}function t(){u=null,n(null,function(n,e){return n?o(n):(Array.isArray(e)||e&&"object"==typeof e?e=values(e):"function"!=typeof e&&(e=once(e)),u=e,void r())})}e?u?u(e,function(u){n(u||e,o)}):n(e,o):u?r():t()}}};

},{"../sources/once":44,"../sources/values":45}],50:[function(require,module,exports){
"use strict";module.exports={map:require("./map"),asyncMap:require("./async-map"),filter:require("./filter"),filterNot:require("./filter-not"),through:require("./through"),take:require("./take"),unique:require("./unique"),nonUnique:require("./non-unique"),flatten:require("./flatten")};

},{"./async-map":46,"./filter":48,"./filter-not":47,"./flatten":49,"./map":51,"./non-unique":52,"./take":53,"./through":54,"./unique":55}],51:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop");module.exports=function(r){return r?(r=prop(r),function(n){return function(t,u){n(t,function(t,i){try{i=t?null:r(i)}catch(o){return n(o,function(){return u(o)})}u(t,i)})}}):id};

},{"../util/prop":57}],52:[function(require,module,exports){
"use strict";var unique=require("./unique");module.exports=function(u){return unique(u,!0)};

},{"./unique":55}],53:[function(require,module,exports){
"use strict";module.exports=function(n,u){u=u||{};var t=u.last||!1,r=!1;if("number"==typeof n){t=!0;var o=n;n=function(){return--o}}return function(u){function o(n){u(!0,function(u){t=!1,n(u||!0)})}return function(f,i){r?t?o(i):i(r):(r=f)?u(r,i):u(null,function(u,f){(r=r||u)?i(r):n(f)?i(null,f):(r=!0,t?i(null,f):o(i))})}}};

},{}],54:[function(require,module,exports){
"use strict";module.exports=function(n,t){function u(n){!r&&t&&(r=!0,t(n===!0?null:n))}var r=!1;return function(t){return function(r,o){return r&&u(r),t(r,function(t,r){t?u(t):n&&n(r),o(t,r)})}}};

},{}],55:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop"),filter=require("./filter");module.exports=function(r,e){r=prop(r)||id;var t={};return filter(function(i){var u=r(i);return t[u]?!!e:(t[u]=!0,!e)})};

},{"../util/prop":57,"./filter":48}],56:[function(require,module,exports){
module.exports=function(l,n,o){l(n),o&&o(n===!0?null:n)};

},{}],57:[function(require,module,exports){
module.exports=function(e){return e&&("string"==typeof e?function(t){return t[e]}:"object"==typeof e&&"function"==typeof e.exec?function(t){var n=e.exec(t);return n&&n[0]}:e)};

},{}],58:[function(require,module,exports){
function id(t){return t}var prop=require("./prop");module.exports=function(t){return"object"==typeof t&&"function"==typeof t.test?function(r){return t.test(r)}:prop(t)||id};

},{"./prop":57}],59:[function(require,module,exports){
function trim(r){return r.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(r){return r.replace(/^\s*/,"")},exports.right=function(r){return r.replace(/\s*$/,"")};

},{}],60:[function(require,module,exports){
"use strict";function forEachArray(e,t){for(var r=0;r<e.length;r++)t(e[r])}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function initParams(e,t,r){var n=e;return isFunction(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=xtend(t,{uri:e}),n.callback=r,n}function createXHR(e,t,r){return t=initParams(e,t,r),_createXHR(t)}function _createXHR(e){function t(){4===i.readyState&&o()}function r(){var e=void 0;if(i.response?e=i.response:"text"!==i.responseType&&i.responseType||(e=i.responseText||i.responseXML),H)try{e=JSON.parse(e)}catch(t){}return e}function n(e){clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,a)}function o(){if(!c){var t;clearTimeout(d),t=e.useXDR&&void 0===i.status?200:1223===i.status?204:i.status;var n=a,o=null;0!==t?(n={body:r(),statusCode:t,method:l,headers:{},url:p,rawRequest:i},i.getAllResponseHeaders&&(n.headers=parseHeaders(i.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),s(o,n,n.body)}}var s=e.callback;if("undefined"==typeof s)throw new Error("callback argument missing");s=once(s);var a={body:void 0,headers:{},statusCode:0,method:l,url:p,rawRequest:i},i=e.xhr||null;i||(i=e.cors||e.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var u,c,d,p=i.url=e.uri||e.url,l=i.method=e.method||"GET",f=e.body||e.data||null,R=i.headers=e.headers||{},h=!!e.sync,H=!1;if("json"in e&&(H=!0,R.accept||R.Accept||(R.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(R["content-type"]||R["Content-Type"]||(R["Content-Type"]="application/json"),f=JSON.stringify(e.json))),i.onreadystatechange=t,i.onload=o,i.onerror=n,i.onprogress=function(){},i.ontimeout=n,i.open(l,p,!h,e.username,e.password),h||(i.withCredentials=!!e.withCredentials),!h&&e.timeout>0&&(d=setTimeout(function(){c=!0,i.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",n(e)},e.timeout)),i.setRequestHeader)for(u in R)R.hasOwnProperty(u)&&i.setRequestHeader(u,R[u]);else if(e.headers&&!isEmpty(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(i.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(i),i.send(f),i}function noop(){}var window=require("global/window"),once=require("once"),isFunction=require("is-function"),parseHeaders=require("parse-headers"),xtend=require("xtend");module.exports=createXHR,createXHR.XMLHttpRequest=window.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest,forEachArray(["get","put","post","patch","head","delete"],function(e){createXHR["delete"===e?"del":e]=function(t,r,n){return r=initParams(t,r,n),r.method=e.toUpperCase(),_createXHR(r)}});

},{"global/window":8,"is-function":15,"once":61,"parse-headers":18,"xtend":62}],61:[function(require,module,exports){
function once(n){var o=!1;return function(){if(!o)return o=!0,n.apply(this,arguments)}}module.exports=once,once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0})});

},{}],62:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],63:[function(require,module,exports){
var bel=require("bel"),morphdom=require("morphdom"),defaultEvents=require("./update-events.js");module.exports=bel,module.exports.update=function(e,o,r){function t(e,o){for(var t=r.events||defaultEvents,n=0;n<t.length;n++){var u=t[n];o[u]?e[u]=o[u]:e[u]&&(e[u]=void 0)}("INPUT"===e.nodeName&&"file"!==e.type||"TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&null===o.getAttribute("value")&&(o.value=e.value)}return r||(r={}),r.events!==!1&&(r.onBeforeMorphEl||(r.onBeforeMorphEl=t)),morphdom(e,o,r)};

},{"./update-events.js":64,"bel":3,"morphdom":16}],64:[function(require,module,exports){
module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"];

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjbGllbnQvQXBwLmpzIiwiY2xpZW50L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2JlbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyLXJlc29sdmUvZW1wdHkuanMiLCJub2RlX21vZHVsZXMvZGVmaW5lZC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9mb3ItZWFjaC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9nbG9iYWwvZG9jdW1lbnQuanMiLCJub2RlX21vZHVsZXMvZ2xvYmFsL3dpbmRvdy5qcyIsIm5vZGVfbW9kdWxlcy9oeXBlcnNjcmlwdC1hdHRyaWJ1dGUtdG8tcHJvcGVydHkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvaHlwZXJ4L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2ludS9odG1sLmpzIiwibm9kZV9tb2R1bGVzL2ludS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9pbnUvcHVsbC5qcyIsIm5vZGVfbW9kdWxlcy9pbnUvc3RhcnQuanMiLCJub2RlX21vZHVsZXMvaXMtZnVuY3Rpb24vaW5kZXguanMiLCJub2RlX21vZHVsZXMvbW9ycGhkb20vbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL29uLWxvYWQvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcGFyc2UtaGVhZGVycy9wYXJzZS1oZWFkZXJzLmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWNhdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL2R1cGxleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtZGVmZXIvc2luay5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL3NvdXJjZS5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWRlZmVyL3Rocm91Z2guanMiLCJub2RlX21vZHVsZXMvcHVsbC1ub3RpZnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1wdXNoYWJsZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9wdWxsLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2NvbGxlY3QuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvY29uY2F0LmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2RyYWluLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2ZpbmQuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvbG9nLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL29uLWVuZC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zaW5rcy9yZWR1Y2UuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy9jb3VudC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL2VtcHR5LmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NvdXJjZXMvZXJyb3IuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL2luZmluaXRlLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NvdXJjZXMva2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL29uY2UuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy92YWx1ZXMuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvYXN5bmMtbWFwLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL2ZpbHRlci1ub3QuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvZmlsdGVyLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL2ZsYXR0ZW4uanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvbWFwLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL25vbi11bmlxdWUuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvdGFrZS5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS90aHJvdWdocy90aHJvdWdoLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL3VuaXF1ZS5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS91dGlsL2Fib3J0LWNiLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3V0aWwvcHJvcC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS91dGlsL3Rlc3Rlci5qcyIsIm5vZGVfbW9kdWxlcy90cmltL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3hoci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy94aHIvbm9kZV9tb2R1bGVzL29uY2Uvb25jZS5qcyIsIm5vZGVfbW9kdWxlcy94dGVuZC9pbW11dGFibGUuanMiLCJub2RlX21vZHVsZXMveW8teW8vaW5kZXguanMiLCJub2RlX21vZHVsZXMveW8teW8vdXBkYXRlLWV2ZW50cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTswb0RDQUEsS0FBQSxRQUFBLE9BQ0EsV0FBQSxRQUFBLDZEQUNBLEtBQUEsUUFBQSwwQ0FFTSxlQUNKLFlBQVksRUFDWixZQUNBLE9BQVEsUUFHSixlQUFpQixpQkFDakIsaUJBQW1CLG1CQUNuQixnQkFBa0Isa0JBQ2xCLFdBQWEsYUFFYixLQUNKLEtBQU0s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ZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7IGh0bWwsIHB1bGwgfSBmcm9tICdpbnUnXG5pbXBvcnQgZGVmZXIgZnJvbSAncHVsbC1kZWZlcidcbmltcG9ydCByZXF1ZXN0IGZyb20gJ3hocidcblxuY29uc3QgSU5JVElBTF9NT0RFTCA9IHtcbiAgcmVmcmVzaGluZzogZmFsc2UsXG4gIHBhaXJpbmdzOiBbXSxcbiAgZmlsdGVyOiB1bmRlZmluZWQsXG59XG5cbmNvbnN0IEZFVENIX1BBSVJJTkdTID0gJ0ZFVENIX1BBSVJJTkdTJ1xuY29uc3QgUkVGUkVTSF9QQUlSSU5HUyA9ICdSRUZSRVNIX1BBSVJJTkdTJ1xuY29uc3QgVVBEQVRFX1BBSVJJTkdTID0gJ1VQREFURV9QQUlSSU5HUydcbmNvbnN0IEFERF9GSUxURVIgPSAnQUREX0ZJTFRFUidcblxuY29uc3QgQXBwID0ge1xuICBpbml0OiAoKSA9PiAoe1xuICAgIG1vZGVsOiBJTklUSUFMX01PREVMLFxuICAgIGVmZmVjdDogeyB0eXBlOiBGRVRDSF9QQUlSSU5HUyB9XG4gIH0pLFxuXG4gIHVwZGF0ZTogKG1vZGVsLCBhY3Rpb24pID0+IHtcblxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgUkVGUkVTSF9QQUlSSU5HUzpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtb2RlbDogT2JqZWN0LmFzc2lnbih7fSwgbW9kZWwsIHtyZWZyZXNoaW5nOiB0cnVlfSksXG4gICAgICAgICAgZWZmZWN0OiB7XG4gICAgICAgICAgICB0eXBlOiBGRVRDSF9QQUlSSU5HU1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICBjYXNlIFVQREFURV9QQUlSSU5HUzpcbiAgICAgICAgbGV0IG5ld01vZGVsID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kZWwsIHtyZWZyZXNoaW5nOiBmYWxzZX0pXG4gICAgICAgIG5ld01vZGVsLnBhaXJpbmdzID0gYWN0aW9uLnBhaXJpbmdzXG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgIG1vZGVsOiBuZXdNb2RlbFxuICAgICAgICB9XG5cbiAgICAgIGNhc2UgQUREX0ZJTFRFUjpcbiAgICAgICAgY29uc3QgZmlsdGVyID0gKGFjdGlvbi5maWx0ZXIpID8gXG4gICAgICAgICAgbmV3IFJlZ0V4cCggYWN0aW9uLmZpbHRlci5zcGxpdCgnJykuam9pbignLionKSwgJ2knKSA6IFxuICAgICAgICAgIHVuZGVmaW5lZFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1vZGVsOiBPYmplY3QuYXNzaWduKHt9LCBtb2RlbCwgeyBmaWx0ZXIgfSlcbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geyBtb2RlbCB9XG4gICAgfVxuICB9LFxuXG4gIHZpZXc6IChtb2RlbCwgZGlzcGF0Y2gpID0+IHtcbiAgICBjb25zdCBwYWlyaW5ncyA9IChtb2RlbC5maWx0ZXIpID9cbiAgICAgIG1vZGVsLnBhaXJpbmdzLmZpbHRlciggcCA9PiBwLlBsYXllci5tYXRjaChtb2RlbC5maWx0ZXIpICkgOlxuICAgICAgbW9kZWwucGFpcmluZ3NcblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz0nbWFpbic+XG4gICAgICAgIDxoMT5NVEcgdGFibGU8L2gxPlxuICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgIGNsYXNzPVwicmVmcmVzaCAkeyhtb2RlbC5yZWZyZXNoaW5nKSA/ICdidXR0b24tcHJpbWFyeScgOiAnJ31cIlxuICAgICAgICAgIG9uY2xpY2s9JHsgKCkgPT4gZGlzcGF0Y2goe1xuICAgICAgICAgICAgICB0eXBlOiBSRUZSRVNIX1BBSVJJTkdTXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgPlxuICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtcmVmcmVzaCAkeyhtb2RlbC5yZWZyZXNoaW5nKSA/ICdmYS1zcGluJyA6ICcnfVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxpbnB1dCBcbiAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgIHBsYWNlaG9sZGVyPSdmaWx0ZXInXG4gICAgICAgICAgb25pbnB1dD0keyAoZSkgPT4gZGlzcGF0Y2goe1xuICAgICAgICAgICAgICB0eXBlOiBBRERfRklMVEVSLFxuICAgICAgICAgICAgICBmaWx0ZXI6IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgLz5cbiAgICAgICAgXG4gICAgICAgICR7cGFpcmluZ3MubWFwKCBwID0+IGh0bWxgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz0ncm93Jz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ndHdvIGNvbHVtbnMnPiR7cC5UYWJsZX08L2Rpdj4gXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3RlbiBjb2x1bW5zJz4ke3AuUGxheWVyLnJlcGxhY2UoLywuKi8sJycpfSwgPHN0cm9uZz4ke3AuUGxheWVyLnJlcGxhY2UoL1teLF0qLC8sJycpfTwvc3Ryb25nPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYClcbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgYFxuICB9LFxuXG4gIHJ1bjogKGVmZmVjdCkgPT4ge1xuICAgIHN3aXRjaCAoZWZmZWN0LnR5cGUpIHtcblxuICAgICAgY2FzZSBGRVRDSF9QQUlSSU5HUzpcbiAgICAgICAgbGV0IHNvdXJjZSA9IGRlZmVyLnNvdXJjZSgpXG5cbiAgICAgICAgcmVxdWVzdC5nZXQoJy9kYXRhJywgKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikgY29uc29sZS5sb2coZXJyKVxuXG4gICAgICAgICAgY29uc3QgbW9kZWwgPSBKU09OLnBhcnNlKHJlcy5ib2R5KVxuICAgICAgICAgIGNvbnN0IHBhaXJpbmdzID0gbW9kZWwucGFpcmluZ3NcblxuICAgICAgICAgIHNvdXJjZS5yZXNvbHZlKFxuICAgICAgICAgICAgcHVsbC52YWx1ZXMoW3tcbiAgICAgICAgICAgICAgdHlwZTogVVBEQVRFX1BBSVJJTkdTLFxuICAgICAgICAgICAgICBwYWlyaW5nc1xuICAgICAgICAgICAgfV0pXG4gICAgICAgICApXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmxvZygnc29tZSB1bm1hdGNoZWQgZWZmZWN0JywgZWZmZWN0KVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHBcblxuIiwiaW1wb3J0IHsgc3RhcnQsIGh0bWwsIHB1bGwgfSBmcm9tICdpbnUnXG5cbmltcG9ydCBhcHAgZnJvbSAnLi9BcHAnXG5cbmNvbnN0IHsgdmlld3MgfSA9IHN0YXJ0KGFwcClcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbicpXG5cbnB1bGwoXG4gIHZpZXdzKCksXG4gIHB1bGwuZHJhaW4oZnVuY3Rpb24gKHZpZXcpIHtcbiAgICBodG1sLnVwZGF0ZShtYWluLCB2aWV3KVxuICB9KVxuKSBcblxuIiwidmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnZ2xvYmFsL2RvY3VtZW50JylcbnZhciBoeXBlcnggPSByZXF1aXJlKCdoeXBlcngnKVxudmFyIG9ubG9hZCA9IHJlcXVpcmUoJ29uLWxvYWQnKVxuXG52YXIgU1ZHTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnXG52YXIgQk9PTF9QUk9QUyA9IHtcbiAgYXV0b2ZvY3VzOiAxLFxuICBjaGVja2VkOiAxLFxuICBkZWZhdWx0Y2hlY2tlZDogMSxcbiAgZGlzYWJsZWQ6IDEsXG4gIGZvcm1ub3ZhbGlkYXRlOiAxLFxuICBpbmRldGVybWluYXRlOiAxLFxuICByZWFkb25seTogMSxcbiAgcmVxdWlyZWQ6IDEsXG4gIHdpbGx2YWxpZGF0ZTogMVxufVxudmFyIFNWR19UQUdTID0gW1xuICAnc3ZnJyxcbiAgJ2FsdEdseXBoJywgJ2FsdEdseXBoRGVmJywgJ2FsdEdseXBoSXRlbScsICdhbmltYXRlJywgJ2FuaW1hdGVDb2xvcicsXG4gICdhbmltYXRlTW90aW9uJywgJ2FuaW1hdGVUcmFuc2Zvcm0nLCAnY2lyY2xlJywgJ2NsaXBQYXRoJywgJ2NvbG9yLXByb2ZpbGUnLFxuICAnY3Vyc29yJywgJ2RlZnMnLCAnZGVzYycsICdlbGxpcHNlJywgJ2ZlQmxlbmQnLCAnZmVDb2xvck1hdHJpeCcsXG4gICdmZUNvbXBvbmVudFRyYW5zZmVyJywgJ2ZlQ29tcG9zaXRlJywgJ2ZlQ29udm9sdmVNYXRyaXgnLCAnZmVEaWZmdXNlTGlnaHRpbmcnLFxuICAnZmVEaXNwbGFjZW1lbnRNYXAnLCAnZmVEaXN0YW50TGlnaHQnLCAnZmVGbG9vZCcsICdmZUZ1bmNBJywgJ2ZlRnVuY0InLFxuICAnZmVGdW5jRycsICdmZUZ1bmNSJywgJ2ZlR2F1c3NpYW5CbHVyJywgJ2ZlSW1hZ2UnLCAnZmVNZXJnZScsICdmZU1lcmdlTm9kZScsXG4gICdmZU1vcnBob2xvZ3knLCAnZmVPZmZzZXQnLCAnZmVQb2ludExpZ2h0JywgJ2ZlU3BlY3VsYXJMaWdodGluZycsXG4gICdmZVNwb3RMaWdodCcsICdmZVRpbGUnLCAnZmVUdXJidWxlbmNlJywgJ2ZpbHRlcicsICdmb250JywgJ2ZvbnQtZmFjZScsXG4gICdmb250LWZhY2UtZm9ybWF0JywgJ2ZvbnQtZmFjZS1uYW1lJywgJ2ZvbnQtZmFjZS1zcmMnLCAnZm9udC1mYWNlLXVyaScsXG4gICdmb3JlaWduT2JqZWN0JywgJ2cnLCAnZ2x5cGgnLCAnZ2x5cGhSZWYnLCAnaGtlcm4nLCAnaW1hZ2UnLCAnbGluZScsXG4gICdsaW5lYXJHcmFkaWVudCcsICdtYXJrZXInLCAnbWFzaycsICdtZXRhZGF0YScsICdtaXNzaW5nLWdseXBoJywgJ21wYXRoJyxcbiAgJ3BhdGgnLCAncGF0dGVybicsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JhZGlhbEdyYWRpZW50JywgJ3JlY3QnLFxuICAnc2V0JywgJ3N0b3AnLCAnc3dpdGNoJywgJ3N5bWJvbCcsICd0ZXh0JywgJ3RleHRQYXRoJywgJ3RpdGxlJywgJ3RyZWYnLFxuICAndHNwYW4nLCAndXNlJywgJ3ZpZXcnLCAndmtlcm4nXG5dXG5cbmZ1bmN0aW9uIGJlbENyZWF0ZUVsZW1lbnQgKHRhZywgcHJvcHMsIGNoaWxkcmVuKSB7XG4gIHZhciBlbFxuXG4gIC8vIElmIGFuIHN2ZyB0YWcsIGl0IG5lZWRzIGEgbmFtZXNwYWNlXG4gIGlmIChTVkdfVEFHUy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgcHJvcHMubmFtZXNwYWNlID0gU1ZHTlNcbiAgfVxuXG4gIC8vIElmIHdlIGFyZSB1c2luZyBhIG5hbWVzcGFjZVxuICB2YXIgbnMgPSBmYWxzZVxuICBpZiAocHJvcHMubmFtZXNwYWNlKSB7XG4gICAgbnMgPSBwcm9wcy5uYW1lc3BhY2VcbiAgICBkZWxldGUgcHJvcHMubmFtZXNwYWNlXG4gIH1cblxuICAvLyBDcmVhdGUgdGhlIGVsZW1lbnRcbiAgaWYgKG5zKSB7XG4gICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZylcbiAgfSBlbHNlIHtcbiAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKVxuICB9XG5cbiAgLy8gSWYgYWRkaW5nIG9ubG9hZCBldmVudHNcbiAgaWYgKHByb3BzLm9ubG9hZCB8fCBwcm9wcy5vbnVubG9hZCkge1xuICAgIHZhciBsb2FkID0gcHJvcHMub25sb2FkIHx8IGZ1bmN0aW9uICgpIHt9XG4gICAgdmFyIHVubG9hZCA9IHByb3BzLm9udW5sb2FkIHx8IGZ1bmN0aW9uICgpIHt9XG4gICAgb25sb2FkKGVsLCBmdW5jdGlvbiBiZWxfb25sb2FkICgpIHtcbiAgICAgIGxvYWQoZWwpXG4gICAgfSwgZnVuY3Rpb24gYmVsX29udW5sb2FkICgpIHtcbiAgICAgIHVubG9hZChlbClcbiAgICB9LCBiZWxDcmVhdGVFbGVtZW50LmNhbGxlci5jYWxsZXIuY2FsbGVyKVxuICAgIGRlbGV0ZSBwcm9wcy5vbmxvYWRcbiAgICBkZWxldGUgcHJvcHMub251bmxvYWRcbiAgfVxuXG4gIC8vIENyZWF0ZSB0aGUgcHJvcGVydGllc1xuICBmb3IgKHZhciBwIGluIHByb3BzKSB7XG4gICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICB2YXIga2V5ID0gcC50b0xvd2VyQ2FzZSgpXG4gICAgICB2YXIgdmFsID0gcHJvcHNbcF1cbiAgICAgIC8vIE5vcm1hbGl6ZSBjbGFzc05hbWVcbiAgICAgIGlmIChrZXkgPT09ICdjbGFzc25hbWUnKSB7XG4gICAgICAgIGtleSA9ICdjbGFzcydcbiAgICAgICAgcCA9ICdjbGFzcydcbiAgICAgIH1cbiAgICAgIC8vIFRoZSBmb3IgYXR0cmlidXRlIGdldHMgdHJhbnNmb3JtZWQgdG8gaHRtbEZvciwgYnV0IHdlIGp1c3Qgc2V0IGFzIGZvclxuICAgICAgaWYgKHAgPT09ICdodG1sRm9yJykge1xuICAgICAgICBwID0gJ2ZvcidcbiAgICAgIH1cbiAgICAgIC8vIElmIGEgcHJvcGVydHkgaXMgYm9vbGVhbiwgc2V0IGl0c2VsZiB0byB0aGUga2V5XG4gICAgICBpZiAoQk9PTF9QUk9QU1trZXldKSB7XG4gICAgICAgIGlmICh2YWwgPT09ICd0cnVlJykgdmFsID0ga2V5XG4gICAgICAgIGVsc2UgaWYgKHZhbCA9PT0gJ2ZhbHNlJykgY29udGludWVcbiAgICAgIH1cbiAgICAgIC8vIElmIGEgcHJvcGVydHkgcHJlZmVycyBiZWluZyBzZXQgZGlyZWN0bHkgdnMgc2V0QXR0cmlidXRlXG4gICAgICBpZiAoa2V5LnNsaWNlKDAsIDIpID09PSAnb24nKSB7XG4gICAgICAgIGVsW3BdID0gdmFsXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobnMpIHtcbiAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBwLCB2YWwpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWwuc2V0QXR0cmlidXRlKHAsIHZhbClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGVuZENoaWxkIChjaGlsZHMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2hpbGRzKSkgcmV0dXJuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBub2RlID0gY2hpbGRzW2ldXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgICBhcHBlbmRDaGlsZChub2RlKVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG5vZGUgPT09ICdudW1iZXInIHx8XG4gICAgICAgIHR5cGVvZiBub2RlID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgbm9kZSBpbnN0YW5jZW9mIERhdGUgfHxcbiAgICAgICAgbm9kZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICBub2RlID0gbm9kZS50b1N0cmluZygpXG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGVsLmxhc3RDaGlsZCAmJiBlbC5sYXN0Q2hpbGQubm9kZU5hbWUgPT09ICcjdGV4dCcpIHtcbiAgICAgICAgICBlbC5sYXN0Q2hpbGQubm9kZVZhbHVlICs9IG5vZGVcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlKVxuICAgICAgfVxuXG4gICAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKG5vZGUpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGFwcGVuZENoaWxkKGNoaWxkcmVuKVxuXG4gIHJldHVybiBlbFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGh5cGVyeChiZWxDcmVhdGVFbGVtZW50KVxubW9kdWxlLmV4cG9ydHMuY3JlYXRlRWxlbWVudCA9IGJlbENyZWF0ZUVsZW1lbnRcbiIsIlxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW1WdGNIUjVMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUlpTENKbWFXeGxJam9pYjNWMExtcHpMbTFoY0NJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklpSmRmUT09IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50c1tpXSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gYXJndW1lbnRzW2ldO1xuICAgIH1cbn07XG4iLCJ2YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJ2lzLWZ1bmN0aW9uJylcblxubW9kdWxlLmV4cG9ydHMgPSBmb3JFYWNoXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcblxuZnVuY3Rpb24gZm9yRWFjaChsaXN0LCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGlmICghaXNGdW5jdGlvbihpdGVyYXRvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaXRlcmF0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJylcbiAgICB9XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgY29udGV4dCA9IHRoaXNcbiAgICB9XG4gICAgXG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobGlzdCkgPT09ICdbb2JqZWN0IEFycmF5XScpXG4gICAgICAgIGZvckVhY2hBcnJheShsaXN0LCBpdGVyYXRvciwgY29udGV4dClcbiAgICBlbHNlIGlmICh0eXBlb2YgbGlzdCA9PT0gJ3N0cmluZycpXG4gICAgICAgIGZvckVhY2hTdHJpbmcobGlzdCwgaXRlcmF0b3IsIGNvbnRleHQpXG4gICAgZWxzZVxuICAgICAgICBmb3JFYWNoT2JqZWN0KGxpc3QsIGl0ZXJhdG9yLCBjb250ZXh0KVxufVxuXG5mdW5jdGlvbiBmb3JFYWNoQXJyYXkoYXJyYXksIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCBpKSkge1xuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBhcnJheVtpXSwgaSwgYXJyYXkpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZvckVhY2hTdHJpbmcoc3RyaW5nLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzdHJpbmcubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgLy8gbm8gc3VjaCB0aGluZyBhcyBhIHNwYXJzZSBzdHJpbmcuXG4gICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgc3RyaW5nLmNoYXJBdChpKSwgaSwgc3RyaW5nKVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9yRWFjaE9iamVjdChvYmplY3QsIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgZm9yICh2YXIgayBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrKSkge1xuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmplY3Rba10sIGssIG9iamVjdClcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsInZhciB0b3BMZXZlbCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDpcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHt9XG52YXIgbWluRG9jID0gcmVxdWlyZSgnbWluLWRvY3VtZW50Jyk7XG5cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBkb2N1bWVudDtcbn0gZWxzZSB7XG4gICAgdmFyIGRvY2N5ID0gdG9wTGV2ZWxbJ19fR0xPQkFMX0RPQ1VNRU5UX0NBQ0hFQDQnXTtcblxuICAgIGlmICghZG9jY3kpIHtcbiAgICAgICAgZG9jY3kgPSB0b3BMZXZlbFsnX19HTE9CQUxfRE9DVU1FTlRfQ0FDSEVANCddID0gbWluRG9jO1xuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0gZG9jY3k7XG59XG4iLCJpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIG1vZHVsZS5leHBvcnRzID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKXtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHNlbGY7XG59IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0ge307XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGF0dHJpYnV0ZVRvUHJvcGVydHlcblxudmFyIHRyYW5zZm9ybSA9IHtcbiAgJ2NsYXNzJzogJ2NsYXNzTmFtZScsXG4gICdmb3InOiAnaHRtbEZvcicsXG4gICdodHRwLWVxdWl2JzogJ2h0dHBFcXVpdidcbn1cblxuZnVuY3Rpb24gYXR0cmlidXRlVG9Qcm9wZXJ0eSAoaCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhZ05hbWUsIGF0dHJzLCBjaGlsZHJlbikge1xuICAgIGZvciAodmFyIGF0dHIgaW4gYXR0cnMpIHtcbiAgICAgIGlmIChhdHRyIGluIHRyYW5zZm9ybSkge1xuICAgICAgICBhdHRyc1t0cmFuc2Zvcm1bYXR0cl1dID0gYXR0cnNbYXR0cl1cbiAgICAgICAgZGVsZXRlIGF0dHJzW2F0dHJdXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoKHRhZ05hbWUsIGF0dHJzLCBjaGlsZHJlbilcbiAgfVxufVxuIiwidmFyIGF0dHJUb1Byb3AgPSByZXF1aXJlKCdoeXBlcnNjcmlwdC1hdHRyaWJ1dGUtdG8tcHJvcGVydHknKVxuXG52YXIgVkFSID0gMCwgVEVYVCA9IDEsIE9QRU4gPSAyLCBDTE9TRSA9IDMsIEFUVFIgPSA0XG52YXIgQVRUUl9LRVkgPSA1LCBBVFRSX0tFWV9XID0gNlxudmFyIEFUVFJfVkFMVUVfVyA9IDcsIEFUVFJfVkFMVUUgPSA4XG52YXIgQVRUUl9WQUxVRV9TUSA9IDksIEFUVFJfVkFMVUVfRFEgPSAxMFxudmFyIEFUVFJfRVEgPSAxMSwgQVRUUl9CUkVBSyA9IDEyXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGgsIG9wdHMpIHtcbiAgaCA9IGF0dHJUb1Byb3AoaClcbiAgaWYgKCFvcHRzKSBvcHRzID0ge31cbiAgdmFyIGNvbmNhdCA9IG9wdHMuY29uY2F0IHx8IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIFN0cmluZyhhKSArIFN0cmluZyhiKVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChzdHJpbmdzKSB7XG4gICAgdmFyIHN0YXRlID0gVEVYVCwgcmVnID0gJydcbiAgICB2YXIgYXJnbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgIHZhciBwYXJ0cyA9IFtdXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpIDwgYXJnbGVuIC0gMSkge1xuICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzW2krMV1cbiAgICAgICAgdmFyIHAgPSBwYXJzZShzdHJpbmdzW2ldKVxuICAgICAgICB2YXIgeHN0YXRlID0gc3RhdGVcbiAgICAgICAgaWYgKHhzdGF0ZSA9PT0gQVRUUl9WQUxVRV9EUSkgeHN0YXRlID0gQVRUUl9WQUxVRVxuICAgICAgICBpZiAoeHN0YXRlID09PSBBVFRSX1ZBTFVFX1NRKSB4c3RhdGUgPSBBVFRSX1ZBTFVFXG4gICAgICAgIGlmICh4c3RhdGUgPT09IEFUVFJfVkFMVUVfVykgeHN0YXRlID0gQVRUUl9WQUxVRVxuICAgICAgICBpZiAoeHN0YXRlID09PSBBVFRSKSB4c3RhdGUgPSBBVFRSX0tFWVxuICAgICAgICBwLnB1c2goWyBWQVIsIHhzdGF0ZSwgYXJnIF0pXG4gICAgICAgIHBhcnRzLnB1c2guYXBwbHkocGFydHMsIHApXG4gICAgICB9IGVsc2UgcGFydHMucHVzaC5hcHBseShwYXJ0cywgcGFyc2Uoc3RyaW5nc1tpXSkpXG4gICAgfVxuXG4gICAgdmFyIHRyZWUgPSBbbnVsbCx7fSxbXV1cbiAgICB2YXIgc3RhY2sgPSBbW3RyZWUsLTFdXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjdXIgPSBzdGFja1tzdGFjay5sZW5ndGgtMV1bMF1cbiAgICAgIHZhciBwID0gcGFydHNbaV0sIHMgPSBwWzBdXG4gICAgICBpZiAocyA9PT0gT1BFTiAmJiAvXlxcLy8udGVzdChwWzFdKSkge1xuICAgICAgICB2YXIgaXggPSBzdGFja1tzdGFjay5sZW5ndGgtMV1bMV1cbiAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIHN0YWNrW3N0YWNrLmxlbmd0aC0xXVswXVsyXVtpeF0gPSBoKFxuICAgICAgICAgICAgY3VyWzBdLCBjdXJbMV0sIGN1clsyXS5sZW5ndGggPyBjdXJbMl0gOiB1bmRlZmluZWRcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gT1BFTikge1xuICAgICAgICB2YXIgYyA9IFtwWzFdLHt9LFtdXVxuICAgICAgICBjdXJbMl0ucHVzaChjKVxuICAgICAgICBzdGFjay5wdXNoKFtjLGN1clsyXS5sZW5ndGgtMV0pXG4gICAgICB9IGVsc2UgaWYgKHMgPT09IEFUVFJfS0VZIHx8IChzID09PSBWQVIgJiYgcFsxXSA9PT0gQVRUUl9LRVkpKSB7XG4gICAgICAgIHZhciBrZXkgPSAnJ1xuICAgICAgICB2YXIgY29weUtleVxuICAgICAgICBmb3IgKDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHBhcnRzW2ldWzBdID09PSBBVFRSX0tFWSkge1xuICAgICAgICAgICAga2V5ID0gY29uY2F0KGtleSwgcGFydHNbaV1bMV0pXG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJ0c1tpXVswXSA9PT0gVkFSICYmIHBhcnRzW2ldWzFdID09PSBBVFRSX0tFWSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0c1tpXVsyXSA9PT0gJ29iamVjdCcgJiYgIWtleSkge1xuICAgICAgICAgICAgICBmb3IgKGNvcHlLZXkgaW4gcGFydHNbaV1bMl0pIHtcbiAgICAgICAgICAgICAgICBpZiAocGFydHNbaV1bMl0uaGFzT3duUHJvcGVydHkoY29weUtleSkgJiYgIWN1clsxXVtjb3B5S2V5XSkge1xuICAgICAgICAgICAgICAgICAgY3VyWzFdW2NvcHlLZXldID0gcGFydHNbaV1bMl1bY29weUtleV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGtleSA9IGNvbmNhdChrZXksIHBhcnRzW2ldWzJdKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBicmVha1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0c1tpXVswXSA9PT0gQVRUUl9FUSkgaSsrXG4gICAgICAgIHZhciBqID0gaVxuICAgICAgICBmb3IgKDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHBhcnRzW2ldWzBdID09PSBBVFRSX1ZBTFVFIHx8IHBhcnRzW2ldWzBdID09PSBBVFRSX0tFWSkge1xuICAgICAgICAgICAgaWYgKCFjdXJbMV1ba2V5XSkgY3VyWzFdW2tleV0gPSBzdHJmbihwYXJ0c1tpXVsxXSlcbiAgICAgICAgICAgIGVsc2UgY3VyWzFdW2tleV0gPSBjb25jYXQoY3VyWzFdW2tleV0sIHBhcnRzW2ldWzFdKVxuICAgICAgICAgIH0gZWxzZSBpZiAocGFydHNbaV1bMF0gPT09IFZBUlxuICAgICAgICAgICYmIChwYXJ0c1tpXVsxXSA9PT0gQVRUUl9WQUxVRSB8fCBwYXJ0c1tpXVsxXSA9PT0gQVRUUl9LRVkpKSB7XG4gICAgICAgICAgICBpZiAoIWN1clsxXVtrZXldKSBjdXJbMV1ba2V5XSA9IHN0cmZuKHBhcnRzW2ldWzJdKVxuICAgICAgICAgICAgZWxzZSBjdXJbMV1ba2V5XSA9IGNvbmNhdChjdXJbMV1ba2V5XSwgcGFydHNbaV1bMl0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoICYmICFjdXJbMV1ba2V5XSAmJiBpID09PSBqXG4gICAgICAgICAgICAmJiAocGFydHNbaV1bMF0gPT09IENMT1NFIHx8IHBhcnRzW2ldWzBdID09PSBBVFRSX0JSRUFLKSkge1xuICAgICAgICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmZyYXN0cnVjdHVyZS5odG1sI2Jvb2xlYW4tYXR0cmlidXRlc1xuICAgICAgICAgICAgICAvLyBlbXB0eSBzdHJpbmcgaXMgZmFsc3ksIG5vdCB3ZWxsIGJlaGF2ZWQgdmFsdWUgaW4gYnJvd3NlclxuICAgICAgICAgICAgICBjdXJbMV1ba2V5XSA9IGtleS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzID09PSBBVFRSX0tFWSkge1xuICAgICAgICBjdXJbMV1bcFsxXV0gPSB0cnVlXG4gICAgICB9IGVsc2UgaWYgKHMgPT09IFZBUiAmJiBwWzFdID09PSBBVFRSX0tFWSkge1xuICAgICAgICBjdXJbMV1bcFsyXV0gPSB0cnVlXG4gICAgICB9IGVsc2UgaWYgKHMgPT09IENMT1NFKSB7XG4gICAgICAgIGlmIChzZWxmQ2xvc2luZyhjdXJbMF0pICYmIHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBpeCA9IHN0YWNrW3N0YWNrLmxlbmd0aC0xXVsxXVxuICAgICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoLTFdWzBdWzJdW2l4XSA9IGgoXG4gICAgICAgICAgICBjdXJbMF0sIGN1clsxXSwgY3VyWzJdLmxlbmd0aCA/IGN1clsyXSA6IHVuZGVmaW5lZFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzID09PSBWQVIgJiYgcFsxXSA9PT0gVEVYVCkge1xuICAgICAgICBpZiAocFsyXSA9PT0gdW5kZWZpbmVkIHx8IHBbMl0gPT09IG51bGwpIHBbMl0gPSAnJ1xuICAgICAgICBlbHNlIGlmICghcFsyXSkgcFsyXSA9IGNvbmNhdCgnJywgcFsyXSlcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocFsyXVswXSkpIHtcbiAgICAgICAgICBjdXJbMl0ucHVzaC5hcHBseShjdXJbMl0sIHBbMl0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VyWzJdLnB1c2gocFsyXSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzID09PSBURVhUKSB7XG4gICAgICAgIGN1clsyXS5wdXNoKHBbMV0pXG4gICAgICB9IGVsc2UgaWYgKHMgPT09IEFUVFJfRVEgfHwgcyA9PT0gQVRUUl9CUkVBSykge1xuICAgICAgICAvLyBuby1vcFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmhhbmRsZWQ6ICcgKyBzKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0cmVlWzJdLmxlbmd0aCA+IDEgJiYgL15cXHMqJC8udGVzdCh0cmVlWzJdWzBdKSkge1xuICAgICAgdHJlZVsyXS5zaGlmdCgpXG4gICAgfVxuXG4gICAgaWYgKHRyZWVbMl0ubGVuZ3RoID4gMlxuICAgIHx8ICh0cmVlWzJdLmxlbmd0aCA9PT0gMiAmJiAvXFxTLy50ZXN0KHRyZWVbMl1bMV0pKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnbXVsdGlwbGUgcm9vdCBlbGVtZW50cyBtdXN0IGJlIHdyYXBwZWQgaW4gYW4gZW5jbG9zaW5nIHRhZydcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJlZVsyXVswXSkgJiYgdHlwZW9mIHRyZWVbMl1bMF1bMF0gPT09ICdzdHJpbmcnXG4gICAgJiYgQXJyYXkuaXNBcnJheSh0cmVlWzJdWzBdWzJdKSkge1xuICAgICAgdHJlZVsyXVswXSA9IGgodHJlZVsyXVswXVswXSwgdHJlZVsyXVswXVsxXSwgdHJlZVsyXVswXVsyXSlcbiAgICB9XG4gICAgcmV0dXJuIHRyZWVbMl1bMF1cblxuICAgIGZ1bmN0aW9uIHBhcnNlIChzdHIpIHtcbiAgICAgIHZhciByZXMgPSBbXVxuICAgICAgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX1cpIHN0YXRlID0gQVRUUlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckF0KGkpXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gVEVYVCAmJiBjID09PSAnPCcpIHtcbiAgICAgICAgICBpZiAocmVnLmxlbmd0aCkgcmVzLnB1c2goW1RFWFQsIHJlZ10pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IE9QRU5cbiAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPicgJiYgIXF1b3Qoc3RhdGUpKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBPUEVOKSB7XG4gICAgICAgICAgICByZXMucHVzaChbT1BFTixyZWddKVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfS0VZKSB7XG4gICAgICAgICAgICByZXMucHVzaChbQVRUUl9LRVkscmVnXSlcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFICYmIHJlZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10pXG4gICAgICAgICAgfVxuICAgICAgICAgIHJlcy5wdXNoKFtDTE9TRV0pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IFRFWFRcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gVEVYVCkge1xuICAgICAgICAgIHJlZyArPSBjXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IE9QRU4gJiYgL1xccy8udGVzdChjKSkge1xuICAgICAgICAgIHJlcy5wdXNoKFtPUEVOLCByZWddKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBBVFRSXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IE9QRU4pIHtcbiAgICAgICAgICByZWcgKz0gY1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSICYmIC9bXFx3LV0vLnRlc3QoYykpIHtcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfS0VZXG4gICAgICAgICAgcmVnID0gY1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSICYmIC9cXHMvLnRlc3QoYykpIHtcbiAgICAgICAgICBpZiAocmVnLmxlbmd0aCkgcmVzLnB1c2goW0FUVFJfS0VZLHJlZ10pXG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfQlJFQUtdKVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX0tFWSAmJiAvXFxzLy50ZXN0KGMpKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfS0VZLHJlZ10pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfS0VZX1dcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9LRVkgJiYgYyA9PT0gJz0nKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfS0VZLHJlZ10sW0FUVFJfRVFdKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBBVFRSX1ZBTFVFX1dcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9LRVkpIHtcbiAgICAgICAgICByZWcgKz0gY1xuICAgICAgICB9IGVsc2UgaWYgKChzdGF0ZSA9PT0gQVRUUl9LRVlfVyB8fCBzdGF0ZSA9PT0gQVRUUikgJiYgYyA9PT0gJz0nKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfRVFdKVxuICAgICAgICAgIHN0YXRlID0gQVRUUl9WQUxVRV9XXG4gICAgICAgIH0gZWxzZSBpZiAoKHN0YXRlID09PSBBVFRSX0tFWV9XIHx8IHN0YXRlID09PSBBVFRSKSAmJiAhL1xccy8udGVzdChjKSkge1xuICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX0JSRUFLXSlcbiAgICAgICAgICBpZiAoL1tcXHctXS8udGVzdChjKSkge1xuICAgICAgICAgICAgcmVnICs9IGNcbiAgICAgICAgICAgIHN0YXRlID0gQVRUUl9LRVlcbiAgICAgICAgICB9IGVsc2Ugc3RhdGUgPSBBVFRSXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfVyAmJiBjID09PSAnXCInKSB7XG4gICAgICAgICAgc3RhdGUgPSBBVFRSX1ZBTFVFX0RRXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfVyAmJiBjID09PSBcIidcIikge1xuICAgICAgICAgIHN0YXRlID0gQVRUUl9WQUxVRV9TUVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX0RRICYmIGMgPT09ICdcIicpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9WQUxVRSxyZWddLFtBVFRSX0JSRUFLXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gQVRUUlxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX1NRICYmIGMgPT09IFwiJ1wiKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSxbQVRUUl9CUkVBS10pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9XICYmICEvXFxzLy50ZXN0KGMpKSB7XG4gICAgICAgICAgc3RhdGUgPSBBVFRSX1ZBTFVFXG4gICAgICAgICAgaS0tXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUUgJiYgL1xccy8udGVzdChjKSkge1xuICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10sW0FUVFJfQlJFQUtdKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBBVFRSXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUUgfHwgc3RhdGUgPT09IEFUVFJfVkFMVUVfU1FcbiAgICAgICAgfHwgc3RhdGUgPT09IEFUVFJfVkFMVUVfRFEpIHtcbiAgICAgICAgICByZWcgKz0gY1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUgPT09IFRFWFQgJiYgcmVnLmxlbmd0aCkge1xuICAgICAgICByZXMucHVzaChbVEVYVCxyZWddKVxuICAgICAgICByZWcgPSAnJ1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRSAmJiByZWcubGVuZ3RoKSB7XG4gICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10pXG4gICAgICAgIHJlZyA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX0RRICYmIHJlZy5sZW5ndGgpIHtcbiAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSlcbiAgICAgICAgcmVnID0gJydcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfU1EgJiYgcmVnLmxlbmd0aCkge1xuICAgICAgICByZXMucHVzaChbQVRUUl9WQUxVRSxyZWddKVxuICAgICAgICByZWcgPSAnJ1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9LRVkpIHtcbiAgICAgICAgcmVzLnB1c2goW0FUVFJfS0VZLHJlZ10pXG4gICAgICAgIHJlZyA9ICcnXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RyZm4gKHgpIHtcbiAgICBpZiAodHlwZW9mIHggPT09ICdmdW5jdGlvbicpIHJldHVybiB4XG4gICAgZWxzZSBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnKSByZXR1cm4geFxuICAgIGVsc2UgaWYgKHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnKSByZXR1cm4geFxuICAgIGVsc2UgcmV0dXJuIGNvbmNhdCgnJywgeClcbiAgfVxufVxuXG5mdW5jdGlvbiBxdW90IChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUgPT09IEFUVFJfVkFMVUVfU1EgfHwgc3RhdGUgPT09IEFUVFJfVkFMVUVfRFFcbn1cblxudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbmZ1bmN0aW9uIGhhcyAob2JqLCBrZXkpIHsgcmV0dXJuIGhhc093bi5jYWxsKG9iaiwga2V5KSB9XG5cbnZhciBjbG9zZVJFID0gUmVnRXhwKCdeKCcgKyBbXG4gICdhcmVhJywgJ2Jhc2UnLCAnYmFzZWZvbnQnLCAnYmdzb3VuZCcsICdicicsICdjb2wnLCAnY29tbWFuZCcsICdlbWJlZCcsXG4gICdmcmFtZScsICdocicsICdpbWcnLCAnaW5wdXQnLCAnaXNpbmRleCcsICdrZXlnZW4nLCAnbGluaycsICdtZXRhJywgJ3BhcmFtJyxcbiAgJ3NvdXJjZScsICd0cmFjaycsICd3YnInLFxuICAvLyBTVkcgVEFHU1xuICAnYW5pbWF0ZScsICdhbmltYXRlVHJhbnNmb3JtJywgJ2NpcmNsZScsICdjdXJzb3InLCAnZGVzYycsICdlbGxpcHNlJyxcbiAgJ2ZlQmxlbmQnLCAnZmVDb2xvck1hdHJpeCcsICdmZUNvbXBvbmVudFRyYW5zZmVyJywgJ2ZlQ29tcG9zaXRlJyxcbiAgJ2ZlQ29udm9sdmVNYXRyaXgnLCAnZmVEaWZmdXNlTGlnaHRpbmcnLCAnZmVEaXNwbGFjZW1lbnRNYXAnLFxuICAnZmVEaXN0YW50TGlnaHQnLCAnZmVGbG9vZCcsICdmZUZ1bmNBJywgJ2ZlRnVuY0InLCAnZmVGdW5jRycsICdmZUZ1bmNSJyxcbiAgJ2ZlR2F1c3NpYW5CbHVyJywgJ2ZlSW1hZ2UnLCAnZmVNZXJnZU5vZGUnLCAnZmVNb3JwaG9sb2d5JyxcbiAgJ2ZlT2Zmc2V0JywgJ2ZlUG9pbnRMaWdodCcsICdmZVNwZWN1bGFyTGlnaHRpbmcnLCAnZmVTcG90TGlnaHQnLCAnZmVUaWxlJyxcbiAgJ2ZlVHVyYnVsZW5jZScsICdmb250LWZhY2UtZm9ybWF0JywgJ2ZvbnQtZmFjZS1uYW1lJywgJ2ZvbnQtZmFjZS11cmknLFxuICAnZ2x5cGgnLCAnZ2x5cGhSZWYnLCAnaGtlcm4nLCAnaW1hZ2UnLCAnbGluZScsICdtaXNzaW5nLWdseXBoJywgJ21wYXRoJyxcbiAgJ3BhdGgnLCAncG9seWdvbicsICdwb2x5bGluZScsICdyZWN0JywgJ3NldCcsICdzdG9wJywgJ3RyZWYnLCAndXNlJywgJ3ZpZXcnLFxuICAndmtlcm4nXG5dLmpvaW4oJ3wnKSArICcpKD86W1xcLiNdW2EtekEtWjAtOVxcdTAwN0YtXFx1RkZGRl86LV0rKSokJylcbmZ1bmN0aW9uIHNlbGZDbG9zaW5nICh0YWcpIHsgcmV0dXJuIGNsb3NlUkUudGVzdCh0YWcpIH1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgneW8teW8nKVxuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN0YXJ0OiByZXF1aXJlKCcuL3N0YXJ0JyksXG4gIHB1bGw6IHJlcXVpcmUoJy4vcHVsbCcpLFxuICBodG1sOiByZXF1aXJlKCcuL2h0bWwnKVxuICAvLyBjc3M6IHJlcXVpcmUoJ3NoZWV0aWZ5JyksID9cbiAgLy8gcm91dGVyOiByZXF1aXJlKCdzaGVldC1yb3V0ZXInKSwgP1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCdwdWxsLXN0cmVhbScpXG4iLCJ2YXIgZGVmaW5lZCA9IHJlcXVpcmUoJ2RlZmluZWQnKVxudmFyIHB1bGwgPSByZXF1aXJlKCdwdWxsLXN0cmVhbScpXG52YXIgbm90aWZ5ID0gcmVxdWlyZSgncHVsbC1ub3RpZnknKVxudmFyIGNhdCA9IHJlcXVpcmUoJ3B1bGwtY2F0JylcblxubW9kdWxlLmV4cG9ydHMgPSBzdGFydFxuXG4vKlxuICDilIzilIDilIDilIDilIDilIDilIAgZWZmZWN0QWN0aW9uc1NvdXJjZXMg4peA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIOKWvCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuYWN0aW9ucyDilIDilrYgc3RhdGVzIOKUgOKWtiBlZmZlY3RzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICDilrIgICAgICAgICAgfFxuICB8ICAgICAgICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKWtiBtb2RlbHMg4pSA4pa2IHZpZXdzIOKUgOKUkFxuICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAgZGlzcGF0Y2gg4peA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4qL1xuXG5mdW5jdGlvbiBzdGFydCAoYXBwKSB7XG4gIGFwcCA9IGRlZmluZWQoYXBwLCB7fSlcblxuICB2YXIgaW5pdCA9IGRlZmluZWQoYXBwLmluaXQsIGRlZmF1bHRJbml0KVxuICB2YXIgdXBkYXRlID0gZGVmaW5lZChhcHAudXBkYXRlLCBkZWZhdWx0VXBkYXRlKVxuICB2YXIgdmlldyA9IGRlZmluZWQoYXBwLnZpZXcsIG5vb3ApXG4gIHZhciBydW4gPSBkZWZpbmVkKGFwcC5ydW4sIG5vb3ApXG5cbiAgdmFyIGFjdGlvbnMgPSBub3RpZnkoKVxuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoIChuZXh0QWN0aW9uKSB7XG4gICAgYWN0aW9ucyhuZXh0QWN0aW9uKVxuICB9XG5cbiAgdmFyIGluaXRpYWxTdGF0ZSA9IGluaXQuY2FsbChhcHApXG4gIHZhciBzdGF0ZXMgPSBub3RpZnkoKVxuICBwdWxsKFxuICAgIGFjdGlvbnMubGlzdGVuKCksXG4gICAgc2Nhbihpbml0aWFsU3RhdGUsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICByZXR1cm4gdXBkYXRlLmNhbGwoYXBwLCBzdGF0ZS5tb2RlbCwgYWN0aW9uKVxuICAgIH0pLFxuICAgIHB1bGwuZHJhaW4oc3RhdGVzKVxuICApXG5cbiAgdmFyIG1vZGVscyA9IG5vdGlmeSgpXG4gIHB1bGwoXG4gICAgc3RhdGVzLmxpc3RlbigpLFxuICAgIHB1bGwubWFwKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlLm1vZGVsXG4gICAgfSksXG4gICAgZGlmZmVyZW5jZSgpLFxuICAgIHB1bGwuZHJhaW4obW9kZWxzKVxuICApXG5cbiAgdmFyIHZpZXdzID0gbm90aWZ5KClcbiAgcHVsbChcbiAgICBtb2RlbHMubGlzdGVuKCksXG4gICAgcHVsbC5tYXAoZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICByZXR1cm4gdmlldy5jYWxsKGFwcCwgbW9kZWwsIGRpc3BhdGNoKVxuICAgIH0pLFxuICAgIHB1bGwuZmlsdGVyKGlzTm90TmlsKSxcbiAgICBwdWxsLmRyYWluKHZpZXdzKVxuICApXG5cbiAgdmFyIGVmZmVjdHMgPSBub3RpZnkoKVxuICBwdWxsKFxuICAgIHN0YXRlcy5saXN0ZW4oKSxcbiAgICBwdWxsLm1hcChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5lZmZlY3RcbiAgICB9KSxcbiAgICBwdWxsLmZpbHRlcihpc05vdE5pbCksXG4gICAgcHVsbC5kcmFpbihlZmZlY3RzKVxuICApXG5cbiAgdmFyIGVmZmVjdEFjdGlvbnNTb3VyY2VzID0gbm90aWZ5KClcblxuICB2YXIgbm90aWZ5cyA9IHtcbiAgICBhY3Rpb25zOiBhY3Rpb25zLFxuICAgIHN0YXRlczogc3RhdGVzLFxuICAgIG1vZGVsczogbW9kZWxzLFxuICAgIHZpZXdzOiB2aWV3cyxcbiAgICBlZmZlY3RzOiBlZmZlY3RzLFxuICAgIGVmZmVjdEFjdGlvbnNTb3VyY2VzOiBlZmZlY3RBY3Rpb25zU291cmNlc1xuICB9XG5cbiAgdmFyIHNvdXJjZXMgPSB7fVxuICBPYmplY3Qua2V5cyhub3RpZnlzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGxpc3RlbiA9IG5vdGlmeXNbbmFtZV0ubGlzdGVuXG4gICAgc291cmNlc1tuYW1lXSA9IChcbiAgICAgIFsnc3RhdGVzJywgJ21vZGVscycsICdlZmZlY3RzJywgJ3ZpZXdzJ10uaW5kZXhPZihuYW1lKSAhPT0gLTFcbiAgICApID8gcmVwbGF5TGFzdFZhbHVlKGxpc3RlbikgOiBsaXN0ZW5cbiAgfSlcblxuICBwdWxsKFxuICAgIGVmZmVjdHMubGlzdGVuKCksXG4gICAgcHVsbC5tYXAoZnVuY3Rpb24gKGVmZmVjdCkge1xuICAgICAgcmV0dXJuIHJ1bi5jYWxsKGFwcCwgZWZmZWN0LCBzb3VyY2VzKVxuICAgIH0pLFxuICAgIHB1bGwuZmlsdGVyKGlzTm90TmlsKSxcbiAgICBwdWxsLmRyYWluKGVmZmVjdEFjdGlvbnNTb3VyY2VzKVxuICApXG5cbiAgcHVsbChcbiAgICBlZmZlY3RBY3Rpb25zU291cmNlcy5saXN0ZW4oKSxcbiAgICBkcmFpbk1hbnkoYWN0aW9ucylcbiAgKVxuXG4gIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgIHN0YXRlcyhpbml0aWFsU3RhdGUpXG4gIH0pXG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNvdXJjZXMsIHsgc3RvcDogc3RvcCB9KVxuXG4gIGZ1bmN0aW9uIHN0b3AgKCkge1xuICAgIE9iamVjdC5rZXlzKG5vdGlmeXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIG5vdGlmeXNbbmFtZV0uZW5kKClcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vb3AgKCkge31cbmZ1bmN0aW9uIGlzTm90TmlsICh4KSB7IHJldHVybiB4ICE9IG51bGwgfVxuZnVuY3Rpb24gZGVmYXVsdEluaXQgKCkgeyByZXR1cm4geyBtb2RlbDogbnVsbCB9IH1cbmZ1bmN0aW9uIGRlZmF1bHRVcGRhdGUgKG1vZGVsKSB7IHJldHVybiB7IG1vZGVsOiBtb2RlbCB9IH1cblxuLy8gVE9ETyBleHRyYWN0IG91dCBpbnRvIGBwdWxsLXNjYW5gXG5mdW5jdGlvbiBzY2FuICh2YWx1ZSwgYWNjdW11bGF0b3IpIHtcbiAgcmV0dXJuIHB1bGwubWFwKGZ1bmN0aW9uIHVwZGF0ZSAobmV4dFZhbHVlKSB7XG4gICAgdmFsdWUgPSBhY2N1bXVsYXRvcih2YWx1ZSwgbmV4dFZhbHVlKVxuICAgIHJldHVybiB2YWx1ZVxuICB9KVxufVxuXG4vLyBUT0RPIGV4dHJhY3Qgb3V0IGludG8gYHB1bGwtZGlmZmVyZW5jZWBcbmZ1bmN0aW9uIGRpZmZlcmVuY2UgKCkge1xuICB2YXIgbGFzdFZhbHVlXG4gIHJldHVybiBwdWxsLmZpbHRlcihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgY29uZGl0aW9uID0gdmFsdWUgIT09IGxhc3RWYWx1ZVxuICAgIGxhc3RWYWx1ZSA9IHZhbHVlXG4gICAgcmV0dXJuIGNvbmRpdGlvblxuICB9KVxufVxuXG4vLyBUT0RPIGV4dHJhY3Qgb3V0IGludG8gYHB1bGwtZHJhaW4tbWFueWAgP1xuZnVuY3Rpb24gZHJhaW5NYW55IChjYikge1xuICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIHB1bGwoXG4gICAgICBzb3VyY2UsXG4gICAgICBwdWxsLmRyYWluKGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICAgICAgcHVsbChcbiAgICAgICAgICBzdHJlYW0sXG4gICAgICAgICAgcHVsbC5kcmFpbihjYilcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICApXG4gIH1cbn1cblxuZnVuY3Rpb24gcmVwbGF5TGFzdFZhbHVlIChsaXN0ZW4pIHtcbiAgdmFyIGxhc3RWYWx1ZVxuICBwdWxsKFxuICAgIGxpc3RlbigpLFxuICAgIHB1bGwuZHJhaW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBsYXN0VmFsdWUgPSB2YWx1ZVxuICAgIH0pXG4gIClcblxuICByZXR1cm4gZnVuY3Rpb24gbGlzdGVuV2l0aExhc3RWYWx1ZSAoKSB7XG4gICAgcmV0dXJuIGNhdChbXG4gICAgICBsYXN0VmFsdWUgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHB1bGwudmFsdWVzKFtsYXN0VmFsdWVdKSxcbiAgICAgIGxpc3RlbigpXG4gICAgXSlcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBpc0Z1bmN0aW9uXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxuZnVuY3Rpb24gaXNGdW5jdGlvbiAoZm4pIHtcbiAgdmFyIHN0cmluZyA9IHRvU3RyaW5nLmNhbGwoZm4pXG4gIHJldHVybiBzdHJpbmcgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIHN0cmluZyAhPT0gJ1tvYmplY3QgUmVnRXhwXScpIHx8XG4gICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgIC8vIElFOCBhbmQgYmVsb3dcbiAgICAgKGZuID09PSB3aW5kb3cuc2V0VGltZW91dCB8fFxuICAgICAgZm4gPT09IHdpbmRvdy5hbGVydCB8fFxuICAgICAgZm4gPT09IHdpbmRvdy5jb25maXJtIHx8XG4gICAgICBmbiA9PT0gd2luZG93LnByb21wdCkpXG59O1xuIiwiLy8gQ3JlYXRlIGEgcmFuZ2Ugb2JqZWN0IGZvciBlZmZpY2VudGx5IHJlbmRlcmluZyBzdHJpbmdzIHRvIGVsZW1lbnRzLlxudmFyIHJhbmdlO1xuXG52YXIgdGVzdEVsID0gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpID9cbiAgICBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIDpcbiAgICB7fTtcblxudmFyIFhIVE1MID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnO1xudmFyIEVMRU1FTlRfTk9ERSA9IDE7XG52YXIgVEVYVF9OT0RFID0gMztcbnZhciBDT01NRU5UX05PREUgPSA4O1xuXG4vLyBGaXhlcyA8aHR0cHM6Ly9naXRodWIuY29tL3BhdHJpY2stc3RlZWxlLWlkZW0vbW9ycGhkb20vaXNzdWVzLzMyPlxuLy8gKElFNysgc3VwcG9ydCkgPD1JRTcgZG9lcyBub3Qgc3VwcG9ydCBlbC5oYXNBdHRyaWJ1dGUobmFtZSlcbnZhciBoYXNBdHRyaWJ1dGVOUztcblxuaWYgKHRlc3RFbC5oYXNBdHRyaWJ1dGVOUykge1xuICAgIGhhc0F0dHJpYnV0ZU5TID0gZnVuY3Rpb24oZWwsIG5hbWVzcGFjZVVSSSwgbmFtZSkge1xuICAgICAgICByZXR1cm4gZWwuaGFzQXR0cmlidXRlTlMobmFtZXNwYWNlVVJJLCBuYW1lKTtcbiAgICB9O1xufSBlbHNlIGlmICh0ZXN0RWwuaGFzQXR0cmlidXRlKSB7XG4gICAgaGFzQXR0cmlidXRlTlMgPSBmdW5jdGlvbihlbCwgbmFtZXNwYWNlVVJJLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBlbC5oYXNBdHRyaWJ1dGUobmFtZSk7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgaGFzQXR0cmlidXRlTlMgPSBmdW5jdGlvbihlbCwgbmFtZXNwYWNlVVJJLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiAhIWVsLmdldEF0dHJpYnV0ZU5vZGUobmFtZSk7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZW1wdHkobykge1xuICAgIGZvciAodmFyIGsgaW4gbykge1xuICAgICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB0b0VsZW1lbnQoc3RyKSB7XG4gICAgaWYgKCFyYW5nZSAmJiBkb2N1bWVudC5jcmVhdGVSYW5nZSkge1xuICAgICAgICByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGUoZG9jdW1lbnQuYm9keSk7XG4gICAgfVxuXG4gICAgdmFyIGZyYWdtZW50O1xuICAgIGlmIChyYW5nZSAmJiByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQpIHtcbiAgICAgICAgZnJhZ21lbnQgPSByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoc3RyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvZHknKTtcbiAgICAgICAgZnJhZ21lbnQuaW5uZXJIVE1MID0gc3RyO1xuICAgIH1cbiAgICByZXR1cm4gZnJhZ21lbnQuY2hpbGROb2Rlc1swXTtcbn1cblxudmFyIHNwZWNpYWxFbEhhbmRsZXJzID0ge1xuICAgIC8qKlxuICAgICAqIE5lZWRlZCBmb3IgSUUuIEFwcGFyZW50bHkgSUUgZG9lc24ndCB0aGluayB0aGF0IFwic2VsZWN0ZWRcIiBpcyBhblxuICAgICAqIGF0dHJpYnV0ZSB3aGVuIHJlYWRpbmcgb3ZlciB0aGUgYXR0cmlidXRlcyB1c2luZyBzZWxlY3RFbC5hdHRyaWJ1dGVzXG4gICAgICovXG4gICAgT1BUSU9OOiBmdW5jdGlvbihmcm9tRWwsIHRvRWwpIHtcbiAgICAgICAgZnJvbUVsLnNlbGVjdGVkID0gdG9FbC5zZWxlY3RlZDtcbiAgICAgICAgaWYgKGZyb21FbC5zZWxlY3RlZCkge1xuICAgICAgICAgICAgZnJvbUVsLnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tRWwucmVtb3ZlQXR0cmlidXRlKCdzZWxlY3RlZCcsICcnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogVGhlIFwidmFsdWVcIiBhdHRyaWJ1dGUgaXMgc3BlY2lhbCBmb3IgdGhlIDxpbnB1dD4gZWxlbWVudCBzaW5jZSBpdCBzZXRzXG4gICAgICogdGhlIGluaXRpYWwgdmFsdWUuIENoYW5naW5nIHRoZSBcInZhbHVlXCIgYXR0cmlidXRlIHdpdGhvdXQgY2hhbmdpbmcgdGhlXG4gICAgICogXCJ2YWx1ZVwiIHByb3BlcnR5IHdpbGwgaGF2ZSBubyBlZmZlY3Qgc2luY2UgaXQgaXMgb25seSB1c2VkIHRvIHRoZSBzZXQgdGhlXG4gICAgICogaW5pdGlhbCB2YWx1ZS4gIFNpbWlsYXIgZm9yIHRoZSBcImNoZWNrZWRcIiBhdHRyaWJ1dGUsIGFuZCBcImRpc2FibGVkXCIuXG4gICAgICovXG4gICAgSU5QVVQ6IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICBmcm9tRWwuY2hlY2tlZCA9IHRvRWwuY2hlY2tlZDtcbiAgICAgICAgaWYgKGZyb21FbC5jaGVja2VkKSB7XG4gICAgICAgICAgICBmcm9tRWwuc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJvbUVsLnJlbW92ZUF0dHJpYnV0ZSgnY2hlY2tlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZyb21FbC52YWx1ZSAhPT0gdG9FbC52YWx1ZSkge1xuICAgICAgICAgICAgZnJvbUVsLnZhbHVlID0gdG9FbC52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGFzQXR0cmlidXRlTlModG9FbCwgbnVsbCwgJ3ZhbHVlJykpIHtcbiAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmcm9tRWwuZGlzYWJsZWQgPSB0b0VsLmRpc2FibGVkO1xuICAgICAgICBpZiAoZnJvbUVsLmRpc2FibGVkKSB7XG4gICAgICAgICAgICBmcm9tRWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgVEVYVEFSRUE6IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSB0b0VsLnZhbHVlO1xuICAgICAgICBpZiAoZnJvbUVsLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgZnJvbUVsLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJvbUVsLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGZyb21FbC5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHR3byBub2RlJ3MgbmFtZXMgYW5kIG5hbWVzcGFjZSBVUklzIGFyZSB0aGUgc2FtZS5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcbiAqIEBwYXJhbSB7RWxlbWVudH0gYlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xudmFyIGNvbXBhcmVOb2RlTmFtZXMgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEubm9kZU5hbWUgPT09IGIubm9kZU5hbWUgJiZcbiAgICAgICAgICAgYS5uYW1lc3BhY2VVUkkgPT09IGIubmFtZXNwYWNlVVJJO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gZWxlbWVudCwgb3B0aW9uYWxseSB3aXRoIGEga25vd24gbmFtZXNwYWNlIFVSSS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgZWxlbWVudCBuYW1lLCBlLmcuICdkaXYnIG9yICdzdmcnXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVzcGFjZVVSSV0gdGhlIGVsZW1lbnQncyBuYW1lc3BhY2UgVVJJLCBpLmUuIHRoZSB2YWx1ZSBvZlxuICogaXRzIGB4bWxuc2AgYXR0cmlidXRlIG9yIGl0cyBpbmZlcnJlZCBuYW1lc3BhY2UuXG4gKlxuICogQHJldHVybiB7RWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudE5TKG5hbWUsIG5hbWVzcGFjZVVSSSkge1xuICAgIHJldHVybiAhbmFtZXNwYWNlVVJJIHx8IG5hbWVzcGFjZVVSSSA9PT0gWEhUTUwgP1xuICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpIDpcbiAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSwgbmFtZSk7XG59XG5cbi8qKlxuICogTG9vcCBvdmVyIGFsbCBvZiB0aGUgYXR0cmlidXRlcyBvbiB0aGUgdGFyZ2V0IG5vZGUgYW5kIG1ha2Ugc3VyZSB0aGUgb3JpZ2luYWxcbiAqIERPTSBub2RlIGhhcyB0aGUgc2FtZSBhdHRyaWJ1dGVzLiBJZiBhbiBhdHRyaWJ1dGUgZm91bmQgb24gdGhlIG9yaWdpbmFsIG5vZGVcbiAqIGlzIG5vdCBvbiB0aGUgbmV3IG5vZGUgdGhlbiByZW1vdmUgaXQgZnJvbSB0aGUgb3JpZ2luYWwgbm9kZS5cbiAqXG4gKiBAcGFyYW0gIHtFbGVtZW50fSBmcm9tTm9kZVxuICogQHBhcmFtICB7RWxlbWVudH0gdG9Ob2RlXG4gKi9cbmZ1bmN0aW9uIG1vcnBoQXR0cnMoZnJvbU5vZGUsIHRvTm9kZSkge1xuICAgIHZhciBhdHRycyA9IHRvTm9kZS5hdHRyaWJ1dGVzO1xuICAgIHZhciBpO1xuICAgIHZhciBhdHRyO1xuICAgIHZhciBhdHRyTmFtZTtcbiAgICB2YXIgYXR0ck5hbWVzcGFjZVVSSTtcbiAgICB2YXIgYXR0clZhbHVlO1xuICAgIHZhciBmcm9tVmFsdWU7XG5cbiAgICBmb3IgKGkgPSBhdHRycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBhdHRyID0gYXR0cnNbaV07XG4gICAgICAgIGF0dHJOYW1lID0gYXR0ci5uYW1lO1xuICAgICAgICBhdHRyVmFsdWUgPSBhdHRyLnZhbHVlO1xuICAgICAgICBhdHRyTmFtZXNwYWNlVVJJID0gYXR0ci5uYW1lc3BhY2VVUkk7XG5cbiAgICAgICAgaWYgKGF0dHJOYW1lc3BhY2VVUkkpIHtcbiAgICAgICAgICAgIGF0dHJOYW1lID0gYXR0ci5sb2NhbE5hbWUgfHwgYXR0ck5hbWU7XG4gICAgICAgICAgICBmcm9tVmFsdWUgPSBmcm9tTm9kZS5nZXRBdHRyaWJ1dGVOUyhhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tVmFsdWUgPSBmcm9tTm9kZS5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZyb21WYWx1ZSAhPT0gYXR0clZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoYXR0ck5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgICAgICAgIGZyb21Ob2RlLnNldEF0dHJpYnV0ZU5TKGF0dHJOYW1lc3BhY2VVUkksIGF0dHJOYW1lLCBhdHRyVmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmcm9tTm9kZS5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYW55IGV4dHJhIGF0dHJpYnV0ZXMgZm91bmQgb24gdGhlIG9yaWdpbmFsIERPTSBlbGVtZW50IHRoYXRcbiAgICAvLyB3ZXJlbid0IGZvdW5kIG9uIHRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICBhdHRycyA9IGZyb21Ob2RlLmF0dHJpYnV0ZXM7XG5cbiAgICBmb3IgKGkgPSBhdHRycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBhdHRyID0gYXR0cnNbaV07XG4gICAgICAgIGlmIChhdHRyLnNwZWNpZmllZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGF0dHJOYW1lID0gYXR0ci5uYW1lO1xuICAgICAgICAgICAgYXR0ck5hbWVzcGFjZVVSSSA9IGF0dHIubmFtZXNwYWNlVVJJO1xuXG4gICAgICAgICAgICBpZiAoIWhhc0F0dHJpYnV0ZU5TKHRvTm9kZSwgYXR0ck5hbWVzcGFjZVVSSSwgYXR0ck5hbWVzcGFjZVVSSSA/IGF0dHJOYW1lID0gYXR0ci5sb2NhbE5hbWUgfHwgYXR0ck5hbWUgOiBhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBmcm9tTm9kZS5yZW1vdmVBdHRyaWJ1dGVOb2RlKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIENvcGllcyB0aGUgY2hpbGRyZW4gb2Ygb25lIERPTSBlbGVtZW50IHRvIGFub3RoZXIgRE9NIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gbW92ZUNoaWxkcmVuKGZyb21FbCwgdG9FbCkge1xuICAgIHZhciBjdXJDaGlsZCA9IGZyb21FbC5maXJzdENoaWxkO1xuICAgIHdoaWxlIChjdXJDaGlsZCkge1xuICAgICAgICB2YXIgbmV4dENoaWxkID0gY3VyQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIHRvRWwuYXBwZW5kQ2hpbGQoY3VyQ2hpbGQpO1xuICAgICAgICBjdXJDaGlsZCA9IG5leHRDaGlsZDtcbiAgICB9XG4gICAgcmV0dXJuIHRvRWw7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRHZXROb2RlS2V5KG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5pZDtcbn1cblxuZnVuY3Rpb24gbW9ycGhkb20oZnJvbU5vZGUsIHRvTm9kZSwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0b05vZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChmcm9tTm9kZS5ub2RlTmFtZSA9PT0gJyNkb2N1bWVudCcgfHwgZnJvbU5vZGUubm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgICAgICAgICAgdmFyIHRvTm9kZUh0bWwgPSB0b05vZGU7XG4gICAgICAgICAgICB0b05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdodG1sJyk7XG4gICAgICAgICAgICB0b05vZGUuaW5uZXJIVE1MID0gdG9Ob2RlSHRtbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvTm9kZSA9IHRvRWxlbWVudCh0b05vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gWFhYIG9wdGltaXphdGlvbjogaWYgdGhlIG5vZGVzIGFyZSBlcXVhbCwgZG9uJ3QgbW9ycGggdGhlbVxuICAgIC8qXG4gICAgaWYgKGZyb21Ob2RlLmlzRXF1YWxOb2RlKHRvTm9kZSkpIHtcbiAgICAgIHJldHVybiBmcm9tTm9kZTtcbiAgICB9XG4gICAgKi9cblxuICAgIHZhciBzYXZlZEVscyA9IHt9OyAvLyBVc2VkIHRvIHNhdmUgb2ZmIERPTSBlbGVtZW50cyB3aXRoIElEc1xuICAgIHZhciB1bm1hdGNoZWRFbHMgPSB7fTtcbiAgICB2YXIgZ2V0Tm9kZUtleSA9IG9wdGlvbnMuZ2V0Tm9kZUtleSB8fCBkZWZhdWx0R2V0Tm9kZUtleTtcbiAgICB2YXIgb25CZWZvcmVOb2RlQWRkZWQgPSBvcHRpb25zLm9uQmVmb3JlTm9kZUFkZGVkIHx8IG5vb3A7XG4gICAgdmFyIG9uTm9kZUFkZGVkID0gb3B0aW9ucy5vbk5vZGVBZGRlZCB8fCBub29wO1xuICAgIHZhciBvbkJlZm9yZUVsVXBkYXRlZCA9IG9wdGlvbnMub25CZWZvcmVFbFVwZGF0ZWQgfHwgb3B0aW9ucy5vbkJlZm9yZU1vcnBoRWwgfHwgbm9vcDtcbiAgICB2YXIgb25FbFVwZGF0ZWQgPSBvcHRpb25zLm9uRWxVcGRhdGVkIHx8IG5vb3A7XG4gICAgdmFyIG9uQmVmb3JlTm9kZURpc2NhcmRlZCA9IG9wdGlvbnMub25CZWZvcmVOb2RlRGlzY2FyZGVkIHx8IG5vb3A7XG4gICAgdmFyIG9uTm9kZURpc2NhcmRlZCA9IG9wdGlvbnMub25Ob2RlRGlzY2FyZGVkIHx8IG5vb3A7XG4gICAgdmFyIG9uQmVmb3JlRWxDaGlsZHJlblVwZGF0ZWQgPSBvcHRpb25zLm9uQmVmb3JlRWxDaGlsZHJlblVwZGF0ZWQgfHwgb3B0aW9ucy5vbkJlZm9yZU1vcnBoRWxDaGlsZHJlbiB8fCBub29wO1xuICAgIHZhciBjaGlsZHJlbk9ubHkgPSBvcHRpb25zLmNoaWxkcmVuT25seSA9PT0gdHJ1ZTtcbiAgICB2YXIgbW92ZWRFbHMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIHJlbW92ZU5vZGVIZWxwZXIobm9kZSwgbmVzdGVkSW5TYXZlZEVsKSB7XG4gICAgICAgIHZhciBpZCA9IGdldE5vZGVLZXkobm9kZSk7XG4gICAgICAgIC8vIElmIHRoZSBub2RlIGhhcyBhbiBJRCB0aGVuIHNhdmUgaXQgb2ZmIHNpbmNlIHdlIHdpbGwgd2FudFxuICAgICAgICAvLyB0byByZXVzZSBpdCBpbiBjYXNlIHRoZSB0YXJnZXQgRE9NIHRyZWUgaGFzIGEgRE9NIGVsZW1lbnRcbiAgICAgICAgLy8gd2l0aCB0aGUgc2FtZSBJRFxuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIHNhdmVkRWxzW2lkXSA9IG5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoIW5lc3RlZEluU2F2ZWRFbCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIG5vdCBuZXN0ZWQgaW4gYSBzYXZlZCBlbGVtZW50IHRoZW4gd2Uga25vdyB0aGF0IHRoaXMgbm9kZSBoYXMgYmVlblxuICAgICAgICAgICAgLy8gY29tcGxldGVseSBkaXNjYXJkZWQgYW5kIHdpbGwgbm90IGV4aXN0IGluIHRoZSBmaW5hbCBET00uXG4gICAgICAgICAgICBvbk5vZGVEaXNjYXJkZWQobm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICB2YXIgY3VyQ2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVOb2RlSGVscGVyKGN1ckNoaWxkLCBuZXN0ZWRJblNhdmVkRWwgfHwgaWQpO1xuICAgICAgICAgICAgICAgIGN1ckNoaWxkID0gY3VyQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YWxrRGlzY2FyZGVkQ2hpbGROb2Rlcyhub2RlKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJDaGlsZCkge1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoIWdldE5vZGVLZXkoY3VyQ2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG9ubHkgd2FudCB0byBoYW5kbGUgbm9kZXMgdGhhdCBkb24ndCBoYXZlIGFuIElEIHRvIGF2b2lkIGRvdWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyB3YWxraW5nIHRoZSBzYW1lIHNhdmVkIGVsZW1lbnQuXG5cbiAgICAgICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKGN1ckNoaWxkKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBXYWxrIHJlY3Vyc2l2ZWx5XG4gICAgICAgICAgICAgICAgICAgIHdhbGtEaXNjYXJkZWRDaGlsZE5vZGVzKGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlLCBwYXJlbnROb2RlLCBhbHJlYWR5VmlzaXRlZCkge1xuICAgICAgICBpZiAob25CZWZvcmVOb2RlRGlzY2FyZGVkKG5vZGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgaWYgKGFscmVhZHlWaXNpdGVkKSB7XG4gICAgICAgICAgICBpZiAoIWdldE5vZGVLZXkobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBvbk5vZGVEaXNjYXJkZWQobm9kZSk7XG4gICAgICAgICAgICAgICAgd2Fsa0Rpc2NhcmRlZENoaWxkTm9kZXMobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlSGVscGVyKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9ycGhFbChmcm9tRWwsIHRvRWwsIGFscmVhZHlWaXNpdGVkLCBjaGlsZHJlbk9ubHkpIHtcbiAgICAgICAgdmFyIHRvRWxLZXkgPSBnZXROb2RlS2V5KHRvRWwpO1xuICAgICAgICBpZiAodG9FbEtleSkge1xuICAgICAgICAgICAgLy8gSWYgYW4gZWxlbWVudCB3aXRoIGFuIElEIGlzIGJlaW5nIG1vcnBoZWQgdGhlbiBpdCBpcyB3aWxsIGJlIGluIHRoZSBmaW5hbFxuICAgICAgICAgICAgLy8gRE9NIHNvIGNsZWFyIGl0IG91dCBvZiB0aGUgc2F2ZWQgZWxlbWVudHMgY29sbGVjdGlvblxuICAgICAgICAgICAgZGVsZXRlIHNhdmVkRWxzW3RvRWxLZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjaGlsZHJlbk9ubHkpIHtcbiAgICAgICAgICAgIGlmIChvbkJlZm9yZUVsVXBkYXRlZChmcm9tRWwsIHRvRWwpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbW9ycGhBdHRycyhmcm9tRWwsIHRvRWwpO1xuICAgICAgICAgICAgb25FbFVwZGF0ZWQoZnJvbUVsKTtcblxuICAgICAgICAgICAgaWYgKG9uQmVmb3JlRWxDaGlsZHJlblVwZGF0ZWQoZnJvbUVsLCB0b0VsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJvbUVsLm5vZGVOYW1lICE9PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgICB2YXIgY3VyVG9Ob2RlQ2hpbGQgPSB0b0VsLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB2YXIgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21FbC5maXJzdENoaWxkO1xuICAgICAgICAgICAgdmFyIGN1clRvTm9kZUlkO1xuXG4gICAgICAgICAgICB2YXIgZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgdmFyIHRvTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB2YXIgc2F2ZWRFbDtcbiAgICAgICAgICAgIHZhciB1bm1hdGNoZWRFbDtcblxuICAgICAgICAgICAgb3V0ZXI6IHdoaWxlIChjdXJUb05vZGVDaGlsZCkge1xuICAgICAgICAgICAgICAgIHRvTmV4dFNpYmxpbmcgPSBjdXJUb05vZGVDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBjdXJUb05vZGVJZCA9IGdldE5vZGVLZXkoY3VyVG9Ob2RlQ2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1ckZyb21Ob2RlQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckZyb21Ob2RlSWQgPSBnZXROb2RlS2V5KGN1ckZyb21Ob2RlQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICBmcm9tTmV4dFNpYmxpbmcgPSBjdXJGcm9tTm9kZUNoaWxkLm5leHRTaWJsaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWxyZWFkeVZpc2l0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZUlkICYmICh1bm1hdGNoZWRFbCA9IHVubWF0Y2hlZEVsc1tjdXJGcm9tTm9kZUlkXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bm1hdGNoZWRFbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChjdXJGcm9tTm9kZUNoaWxkLCB1bm1hdGNoZWRFbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhFbChjdXJGcm9tTm9kZUNoaWxkLCB1bm1hdGNoZWRFbCwgYWxyZWFkeVZpc2l0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRnJvbU5vZGVUeXBlID0gY3VyRnJvbU5vZGVDaGlsZC5ub2RlVHlwZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVUeXBlID09PSBjdXJUb05vZGVDaGlsZC5ub2RlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzQ29tcGF0aWJsZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCb3RoIG5vZGVzIGJlaW5nIGNvbXBhcmVkIGFyZSBFbGVtZW50IG5vZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGFyZU5vZGVOYW1lcyhjdXJGcm9tTm9kZUNoaWxkLCBjdXJUb05vZGVDaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBjb21wYXRpYmxlIERPTSBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVJZCB8fCBjdXJUb05vZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgZWl0aGVyIERPTSBlbGVtZW50IGhhcyBhbiBJRCB0aGVuIHdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGhvc2UgZGlmZmVyZW50bHkgc2luY2Ugd2Ugd2FudCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2ggdXAgYnkgSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJUb05vZGVJZCA9PT0gY3VyRnJvbU5vZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0aWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBjb21wYXRpYmxlIERPTSBlbGVtZW50cyBzbyB0cmFuc2Zvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGN1cnJlbnQgXCJmcm9tXCIgbm9kZSB0byBtYXRjaCB0aGUgY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0YXJnZXQgRE9NIG5vZGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoRWwoY3VyRnJvbU5vZGVDaGlsZCwgY3VyVG9Ob2RlQ2hpbGQsIGFscmVhZHlWaXNpdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCb3RoIG5vZGVzIGJlaW5nIGNvbXBhcmVkIGFyZSBUZXh0IG9yIENvbW1lbnQgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJGcm9tTm9kZVR5cGUgPT09IFRFWFRfTk9ERSB8fCBjdXJGcm9tTm9kZVR5cGUgPT0gQ09NTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW1wbHkgdXBkYXRlIG5vZGVWYWx1ZSBvbiB0aGUgb3JpZ2luYWwgbm9kZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoYW5nZSB0aGUgdGV4dCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQubm9kZVZhbHVlID0gY3VyVG9Ob2RlQ2hpbGQubm9kZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG9Ob2RlQ2hpbGQgPSB0b05leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBObyBjb21wYXRpYmxlIG1hdGNoIHNvIHJlbW92ZSB0aGUgb2xkIG5vZGUgZnJvbSB0aGUgRE9NXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBjb250aW51ZSB0cnlpbmcgdG8gZmluZCBhIG1hdGNoIGluIHRoZSBvcmlnaW5hbCBET01cbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTm9kZShjdXJGcm9tTm9kZUNoaWxkLCBmcm9tRWwsIGFscmVhZHlWaXNpdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VyVG9Ob2RlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChzYXZlZEVsID0gc2F2ZWRFbHNbY3VyVG9Ob2RlSWRdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhcmVOb2RlTmFtZXMoc2F2ZWRFbCwgY3VyVG9Ob2RlQ2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhFbChzYXZlZEVsLCBjdXJUb05vZGVDaGlsZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBhcHBlbmQgdGhlIHNhdmVkIGVsZW1lbnQgaW5zdGVhZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gc2F2ZWRFbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNhdmVkRWxzW2N1clRvTm9kZUlkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk5vZGVEaXNjYXJkZWQoc2F2ZWRFbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY3VycmVudCBET00gZWxlbWVudCBpbiB0aGUgdGFyZ2V0IHRyZWUgaGFzIGFuIElEXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgd2UgZGlkIG5vdCBmaW5kIGEgbWF0Y2ggaW4gYW55IG9mIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29ycmVzcG9uZGluZyBzaWJsaW5ncy4gV2UganVzdCBwdXQgdGhlIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudCBpbiB0aGUgb2xkIERPTSB0cmVlIGJ1dCBpZiB3ZSBsYXRlciBmaW5kIGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50IGluIHRoZSBvbGQgRE9NIHRyZWUgdGhhdCBoYXMgYSBtYXRjaGluZyBJRFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiB3ZSB3aWxsIHJlcGxhY2UgdGhlIHRhcmdldCBlbGVtZW50IHdpdGggdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3JyZXNwb25kaW5nIG9sZCBlbGVtZW50IGFuZCBtb3JwaCB0aGUgb2xkIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHVubWF0Y2hlZEVsc1tjdXJUb05vZGVJZF0gPSBjdXJUb05vZGVDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGdvdCB0aGlzIGZhciB0aGVuIHdlIGRpZCBub3QgZmluZCBhIGNhbmRpZGF0ZSBtYXRjaCBmb3JcbiAgICAgICAgICAgICAgICAvLyBvdXIgXCJ0byBub2RlXCIgYW5kIHdlIGV4aGF1c3RlZCBhbGwgb2YgdGhlIGNoaWxkcmVuIFwiZnJvbVwiXG4gICAgICAgICAgICAgICAgLy8gbm9kZXMuIFRoZXJlZm9yZSwgd2Ugd2lsbCBqdXN0IGFwcGVuZCB0aGUgY3VycmVudCBcInRvIG5vZGVcIlxuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBlbmRcbiAgICAgICAgICAgICAgICBpZiAob25CZWZvcmVOb2RlQWRkZWQoY3VyVG9Ob2RlQ2hpbGQpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tRWwuYXBwZW5kQ2hpbGQoY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICBvbk5vZGVBZGRlZChjdXJUb05vZGVDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUNoaWxkLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUgJiZcbiAgICAgICAgICAgICAgICAgICAgKGN1clRvTm9kZUlkIHx8IGN1clRvTm9kZUNoaWxkLmZpcnN0Q2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IHRoYXQgd2FzIGp1c3QgYWRkZWQgdG8gdGhlIG9yaWdpbmFsIERPTSBtYXlcbiAgICAgICAgICAgICAgICAgICAgLy8gaGF2ZSBzb21lIG5lc3RlZCBlbGVtZW50cyB3aXRoIGEga2V5L0lEIHRoYXQgbmVlZHMgdG8gYmVcbiAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hlZCB1cCB3aXRoIG90aGVyIGVsZW1lbnRzLiBXZSdsbCBhZGQgdGhlIGVsZW1lbnQgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gYSBsaXN0IHNvIHRoYXQgd2UgY2FuIGxhdGVyIHByb2Nlc3MgdGhlIG5lc3RlZCBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgYW55IHVubWF0Y2hlZCBrZXllZCBlbGVtZW50cyB0aGF0IHdlcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzY2FyZGVkXG4gICAgICAgICAgICAgICAgICAgIG1vdmVkRWxzLnB1c2goY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gdG9OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBXZSBoYXZlIHByb2Nlc3NlZCBhbGwgb2YgdGhlIFwidG8gbm9kZXNcIi4gSWYgY3VyRnJvbU5vZGVDaGlsZCBpc1xuICAgICAgICAgICAgLy8gbm9uLW51bGwgdGhlbiB3ZSBzdGlsbCBoYXZlIHNvbWUgZnJvbSBub2RlcyBsZWZ0IG92ZXIgdGhhdCBuZWVkXG4gICAgICAgICAgICAvLyB0byBiZSByZW1vdmVkXG4gICAgICAgICAgICB3aGlsZSAoY3VyRnJvbU5vZGVDaGlsZCkge1xuICAgICAgICAgICAgICAgIGZyb21OZXh0U2libGluZyA9IGN1ckZyb21Ob2RlQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTm9kZShjdXJGcm9tTm9kZUNoaWxkLCBmcm9tRWwsIGFscmVhZHlWaXNpdGVkKTtcbiAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNwZWNpYWxFbEhhbmRsZXIgPSBzcGVjaWFsRWxIYW5kbGVyc1tmcm9tRWwubm9kZU5hbWVdO1xuICAgICAgICBpZiAoc3BlY2lhbEVsSGFuZGxlcikge1xuICAgICAgICAgICAgc3BlY2lhbEVsSGFuZGxlcihmcm9tRWwsIHRvRWwpO1xuICAgICAgICB9XG4gICAgfSAvLyBFTkQ6IG1vcnBoRWwoLi4uKVxuXG4gICAgdmFyIG1vcnBoZWROb2RlID0gZnJvbU5vZGU7XG4gICAgdmFyIG1vcnBoZWROb2RlVHlwZSA9IG1vcnBoZWROb2RlLm5vZGVUeXBlO1xuICAgIHZhciB0b05vZGVUeXBlID0gdG9Ob2RlLm5vZGVUeXBlO1xuXG4gICAgaWYgKCFjaGlsZHJlbk9ubHkpIHtcbiAgICAgICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIHdlIGFyZSBnaXZlbiB0d28gRE9NIG5vZGVzIHRoYXQgYXJlIG5vdFxuICAgICAgICAvLyBjb21wYXRpYmxlIChlLmcuIDxkaXY+IC0tPiA8c3Bhbj4gb3IgPGRpdj4gLS0+IFRFWFQpXG4gICAgICAgIGlmIChtb3JwaGVkTm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgaWYgKHRvTm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgIGlmICghY29tcGFyZU5vZGVOYW1lcyhmcm9tTm9kZSwgdG9Ob2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBvbk5vZGVEaXNjYXJkZWQoZnJvbU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IG1vdmVDaGlsZHJlbihmcm9tTm9kZSwgY3JlYXRlRWxlbWVudE5TKHRvTm9kZS5ub2RlTmFtZSwgdG9Ob2RlLm5hbWVzcGFjZVVSSSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gR29pbmcgZnJvbSBhbiBlbGVtZW50IG5vZGUgdG8gYSB0ZXh0IG5vZGVcbiAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IHRvTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtb3JwaGVkTm9kZVR5cGUgPT09IFRFWFRfTk9ERSB8fCBtb3JwaGVkTm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSkgeyAvLyBUZXh0IG9yIGNvbW1lbnQgbm9kZVxuICAgICAgICAgICAgaWYgKHRvTm9kZVR5cGUgPT09IG1vcnBoZWROb2RlVHlwZSkge1xuICAgICAgICAgICAgICAgIG1vcnBoZWROb2RlLm5vZGVWYWx1ZSA9IHRvTm9kZS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vcnBoZWROb2RlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUZXh0IG5vZGUgdG8gc29tZXRoaW5nIGVsc2VcbiAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IHRvTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtb3JwaGVkTm9kZSA9PT0gdG9Ob2RlKSB7XG4gICAgICAgIC8vIFRoZSBcInRvIG5vZGVcIiB3YXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgXCJmcm9tIG5vZGVcIiBzbyB3ZSBoYWQgdG9cbiAgICAgICAgLy8gdG9zcyBvdXQgdGhlIFwiZnJvbSBub2RlXCIgYW5kIHVzZSB0aGUgXCJ0byBub2RlXCJcbiAgICAgICAgb25Ob2RlRGlzY2FyZGVkKGZyb21Ob2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBtb3JwaEVsKG1vcnBoZWROb2RlLCB0b05vZGUsIGZhbHNlLCBjaGlsZHJlbk9ubHkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGF0IHdlIHdpbGwgZG8gaGVyZSBpcyB3YWxrIHRoZSB0cmVlIGZvciB0aGUgRE9NIGVsZW1lbnQgdGhhdCB3YXNcbiAgICAgICAgICogbW92ZWQgZnJvbSB0aGUgdGFyZ2V0IERPTSB0cmVlIHRvIHRoZSBvcmlnaW5hbCBET00gdHJlZSBhbmQgd2Ugd2lsbFxuICAgICAgICAgKiBsb29rIGZvciBrZXllZCBlbGVtZW50cyB0aGF0IGNvdWxkIGJlIG1hdGNoZWQgdG8ga2V5ZWQgZWxlbWVudHMgdGhhdFxuICAgICAgICAgKiB3ZXJlIGVhcmxpZXIgZGlzY2FyZGVkLiAgSWYgd2UgZmluZCBhIG1hdGNoIHRoZW4gd2Ugd2lsbCBtb3ZlIHRoZVxuICAgICAgICAgKiBzYXZlZCBlbGVtZW50IGludG8gdGhlIGZpbmFsIERPTSB0cmVlLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGhhbmRsZU1vdmVkRWwgPSBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgdmFyIGN1ckNoaWxkID0gZWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJDaGlsZCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0U2libGluZyA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGdldE5vZGVLZXkoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNhdmVkRWwgPSBzYXZlZEVsc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2F2ZWRFbCAmJiBjb21wYXJlTm9kZU5hbWVzKGN1ckNoaWxkLCBzYXZlZEVsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ2hpbGQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoc2F2ZWRFbCwgY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZTogYWxyZWFkeSB2aXNpdGVkIHRoZSBzYXZlZCBlbCB0cmVlXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3JwaEVsKHNhdmVkRWwsIGN1ckNoaWxkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoaWxkID0gbmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1wdHkoc2F2ZWRFbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VyQ2hpbGQubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVNb3ZlZEVsKGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IG5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRoZSBsb29wIGJlbG93IGlzIHVzZWQgdG8gcG9zc2libHkgbWF0Y2ggdXAgYW55IGRpc2NhcmRlZFxuICAgICAgICAvLyBlbGVtZW50cyBpbiB0aGUgb3JpZ2luYWwgRE9NIHRyZWUgd2l0aCBlbGVtZW5ldHMgZnJvbSB0aGVcbiAgICAgICAgLy8gdGFyZ2V0IHRyZWUgdGhhdCB3ZXJlIG1vdmVkIG92ZXIgd2l0aG91dCB2aXNpdGluZyB0aGVpclxuICAgICAgICAvLyBjaGlsZHJlblxuICAgICAgICBpZiAoIWVtcHR5KHNhdmVkRWxzKSkge1xuICAgICAgICAgICAgaGFuZGxlTW92ZWRFbHNMb29wOlxuICAgICAgICAgICAgd2hpbGUgKG1vdmVkRWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBtb3ZlZEVsc1RlbXAgPSBtb3ZlZEVscztcbiAgICAgICAgICAgICAgICBtb3ZlZEVscyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxtb3ZlZEVsc1RlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZU1vdmVkRWwobW92ZWRFbHNUZW1wW2ldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGFyZSBubyBtb3JlIHVubWF0Y2hlZCBlbGVtZW50cyBzbyBjb21wbGV0ZWx5IGVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGhhbmRsZU1vdmVkRWxzTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpcmUgdGhlIFwib25Ob2RlRGlzY2FyZGVkXCIgZXZlbnQgZm9yIGFueSBzYXZlZCBlbGVtZW50c1xuICAgICAgICAvLyB0aGF0IG5ldmVyIGZvdW5kIGEgbmV3IGhvbWUgaW4gdGhlIG1vcnBoZWQgRE9NXG4gICAgICAgIGZvciAodmFyIHNhdmVkRWxJZCBpbiBzYXZlZEVscykge1xuICAgICAgICAgICAgaWYgKHNhdmVkRWxzLmhhc093blByb3BlcnR5KHNhdmVkRWxJZCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2F2ZWRFbCA9IHNhdmVkRWxzW3NhdmVkRWxJZF07XG4gICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKHNhdmVkRWwpO1xuICAgICAgICAgICAgICAgIHdhbGtEaXNjYXJkZWRDaGlsZE5vZGVzKHNhdmVkRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFjaGlsZHJlbk9ubHkgJiYgbW9ycGhlZE5vZGUgIT09IGZyb21Ob2RlICYmIGZyb21Ob2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgLy8gSWYgd2UgaGFkIHRvIHN3YXAgb3V0IHRoZSBmcm9tIG5vZGUgd2l0aCBhIG5ldyBub2RlIGJlY2F1c2UgdGhlIG9sZFxuICAgICAgICAvLyBub2RlIHdhcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSB0YXJnZXQgbm9kZSB0aGVuIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gcmVwbGFjZSB0aGUgb2xkIERPTSBub2RlIGluIHRoZSBvcmlnaW5hbCBET00gdHJlZS4gVGhpcyBpcyBvbmx5XG4gICAgICAgIC8vIHBvc3NpYmxlIGlmIHRoZSBvcmlnaW5hbCBET00gbm9kZSB3YXMgcGFydCBvZiBhIERPTSB0cmVlIHdoaWNoXG4gICAgICAgIC8vIHdlIGtub3cgaXMgdGhlIGNhc2UgaWYgaXQgaGFzIGEgcGFyZW50IG5vZGUuXG4gICAgICAgIGZyb21Ob2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG1vcnBoZWROb2RlLCBmcm9tTm9kZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vcnBoZWROb2RlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1vcnBoZG9tO1xuIiwiLyogZ2xvYmFsIE11dGF0aW9uT2JzZXJ2ZXIgKi9cbnZhciBkb2N1bWVudCA9IHJlcXVpcmUoJ2dsb2JhbC9kb2N1bWVudCcpXG52YXIgd2luZG93ID0gcmVxdWlyZSgnZ2xvYmFsL3dpbmRvdycpXG52YXIgd2F0Y2ggPSBPYmplY3QuY3JlYXRlKG51bGwpXG52YXIgS0VZX0lEID0gJ29ubG9hZGlkJyArIChuZXcgRGF0ZSgpICUgOWU2KS50b1N0cmluZygzNilcbnZhciBLRVlfQVRUUiA9ICdkYXRhLScgKyBLRVlfSURcbnZhciBJTkRFWCA9IDBcblxuaWYgKHdpbmRvdyAmJiB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcikge1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHdhdGNoKS5sZW5ndGggPCAxKSByZXR1cm5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG11dGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG11dGF0aW9uc1tpXS5hdHRyaWJ1dGVOYW1lID09PSBLRVlfQVRUUikge1xuICAgICAgICBlYWNoQXR0cihtdXRhdGlvbnNbaV0sIHR1cm5vbiwgdHVybm9mZilcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGVhY2hNdXRhdGlvbihtdXRhdGlvbnNbaV0ucmVtb3ZlZE5vZGVzLCB0dXJub2ZmKVxuICAgICAgZWFjaE11dGF0aW9uKG11dGF0aW9uc1tpXS5hZGRlZE5vZGVzLCB0dXJub24pXG4gICAgfVxuICB9KVxuICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcbiAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgc3VidHJlZTogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICAgIGF0dHJpYnV0ZUZpbHRlcjogW0tFWV9BVFRSXVxuICB9KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG9ubG9hZCAoZWwsIG9uLCBvZmYsIGNhbGxlcikge1xuICBvbiA9IG9uIHx8IGZ1bmN0aW9uICgpIHt9XG4gIG9mZiA9IG9mZiB8fCBmdW5jdGlvbiAoKSB7fVxuICBlbC5zZXRBdHRyaWJ1dGUoS0VZX0FUVFIsICdvJyArIElOREVYKVxuICB3YXRjaFsnbycgKyBJTkRFWF0gPSBbb24sIG9mZiwgMCwgY2FsbGVyIHx8IG9ubG9hZC5jYWxsZXJdXG4gIElOREVYICs9IDFcbiAgcmV0dXJuIGVsXG59XG5cbmZ1bmN0aW9uIHR1cm5vbiAoaW5kZXgsIGVsKSB7XG4gIGlmICh3YXRjaFtpbmRleF1bMF0gJiYgd2F0Y2hbaW5kZXhdWzJdID09PSAwKSB7XG4gICAgd2F0Y2hbaW5kZXhdWzBdKGVsKVxuICAgIHdhdGNoW2luZGV4XVsyXSA9IDFcbiAgfVxufVxuXG5mdW5jdGlvbiB0dXJub2ZmIChpbmRleCwgZWwpIHtcbiAgaWYgKHdhdGNoW2luZGV4XVsxXSAmJiB3YXRjaFtpbmRleF1bMl0gPT09IDEpIHtcbiAgICB3YXRjaFtpbmRleF1bMV0oZWwpXG4gICAgd2F0Y2hbaW5kZXhdWzJdID0gMFxuICB9XG59XG5cbmZ1bmN0aW9uIGVhY2hBdHRyIChtdXRhdGlvbiwgb24sIG9mZikge1xuICB2YXIgbmV3VmFsdWUgPSBtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKEtFWV9BVFRSKVxuICBpZiAoc2FtZU9yaWdpbihtdXRhdGlvbi5vbGRWYWx1ZSwgbmV3VmFsdWUpKSB7XG4gICAgd2F0Y2hbbmV3VmFsdWVdID0gd2F0Y2hbbXV0YXRpb24ub2xkVmFsdWVdXG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKHdhdGNoW211dGF0aW9uLm9sZFZhbHVlXSkge1xuICAgIG9mZihtdXRhdGlvbi5vbGRWYWx1ZSwgbXV0YXRpb24udGFyZ2V0KVxuICB9XG4gIGlmICh3YXRjaFtuZXdWYWx1ZV0pIHtcbiAgICBvbihuZXdWYWx1ZSwgbXV0YXRpb24udGFyZ2V0KVxuICB9XG59XG5cbmZ1bmN0aW9uIHNhbWVPcmlnaW4gKG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICBpZiAoIW9sZFZhbHVlIHx8ICFuZXdWYWx1ZSkgcmV0dXJuIGZhbHNlXG4gIHJldHVybiB3YXRjaFtvbGRWYWx1ZV1bM10gPT09IHdhdGNoW25ld1ZhbHVlXVszXVxufVxuXG5mdW5jdGlvbiBlYWNoTXV0YXRpb24gKG5vZGVzLCBmbikge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHdhdGNoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG5vZGVzW2ldICYmIG5vZGVzW2ldLmdldEF0dHJpYnV0ZSAmJiBub2Rlc1tpXS5nZXRBdHRyaWJ1dGUoS0VZX0FUVFIpKSB7XG4gICAgICB2YXIgb25sb2FkaWQgPSBub2Rlc1tpXS5nZXRBdHRyaWJ1dGUoS0VZX0FUVFIpXG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgaWYgKG9ubG9hZGlkID09PSBrKSB7XG4gICAgICAgICAgZm4oaywgbm9kZXNbaV0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICAgIGlmIChub2Rlc1tpXS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGVhY2hNdXRhdGlvbihub2Rlc1tpXS5jaGlsZE5vZGVzLCBmbilcbiAgICB9XG4gIH1cbn1cbiIsInZhciB0cmltID0gcmVxdWlyZSgndHJpbScpXG4gICwgZm9yRWFjaCA9IHJlcXVpcmUoJ2Zvci1lYWNoJylcbiAgLCBpc0FycmF5ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChoZWFkZXJzKSB7XG4gIGlmICghaGVhZGVycylcbiAgICByZXR1cm4ge31cblxuICB2YXIgcmVzdWx0ID0ge31cblxuICBmb3JFYWNoKFxuICAgICAgdHJpbShoZWFkZXJzKS5zcGxpdCgnXFxuJylcbiAgICAsIGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcm93LmluZGV4T2YoJzonKVxuICAgICAgICAgICwga2V5ID0gdHJpbShyb3cuc2xpY2UoMCwgaW5kZXgpKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgLCB2YWx1ZSA9IHRyaW0ocm93LnNsaWNlKGluZGV4ICsgMSkpXG5cbiAgICAgICAgaWYgKHR5cGVvZihyZXN1bHRba2V5XSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZVxuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkocmVzdWx0W2tleV0pKSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IFsgcmVzdWx0W2tleV0sIHZhbHVlIF1cbiAgICAgICAgfVxuICAgICAgfVxuICApXG5cbiAgcmV0dXJuIHJlc3VsdFxufSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuICB9XG4gIHRyeSB7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG4gIH1cbn0gKCkpXG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBjYWNoZWRTZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7fVxuXG5mdW5jdGlvbiBhYm9ydEFsbChhcnksIGFib3J0LCBjYikge1xuICB2YXIgbiA9IGFyeS5sZW5ndGhcbiAgaWYoIW4pIHJldHVybiBjYihhYm9ydClcbiAgYXJ5LmZvckVhY2goZnVuY3Rpb24gKGYpIHtcbiAgICBpZihmKSBmKGFib3J0LCBuZXh0KVxuICAgIGVsc2UgbmV4dCgpXG4gIH0pXG5cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBpZigtLW4pIHJldHVyblxuICAgIGNiKGFib3J0KVxuICB9XG4gIGlmKCFuKSBuZXh0KClcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyZWFtcykge1xuICByZXR1cm4gZnVuY3Rpb24gKGFib3J0LCBjYikge1xuICAgIDsoZnVuY3Rpb24gbmV4dCAoKSB7XG4gICAgICBpZihhYm9ydClcbiAgICAgICAgYWJvcnRBbGwoc3RyZWFtcywgYWJvcnQsIGNiKVxuICAgICAgZWxzZSBpZighc3RyZWFtcy5sZW5ndGgpXG4gICAgICAgIGNiKHRydWUpXG4gICAgICBlbHNlIGlmKCFzdHJlYW1zWzBdKVxuICAgICAgICBzdHJlYW1zLnNoaWZ0KCksIG5leHQoKVxuICAgICAgZWxzZVxuICAgICAgICBzdHJlYW1zWzBdKG51bGwsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgICBpZihlcnIpIHtcbiAgICAgICAgICAgIHN0cmVhbXMuc2hpZnQoKSAvL2Ryb3AgdGhlIGZpcnN0LCBoYXMgYWxyZWFkeSBlbmRlZC5cbiAgICAgICAgICAgIGlmKGVyciA9PT0gdHJ1ZSkgbmV4dCgpXG4gICAgICAgICAgICBlbHNlICAgICAgICAgICAgIGFib3J0QWxsKHN0cmVhbXMsIGVyciwgY2IpXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNiKG51bGwsIGRhdGEpXG4gICAgICAgIH0pXG4gICAgfSkoKVxuICB9XG59XG5cblxuXG5cbiIsIlxudmFyIFNvdXJjZSA9IHJlcXVpcmUoJy4vc291cmNlJylcbnZhciBTaW5rID0gcmVxdWlyZSgnLi9zaW5rJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIHNvdXJjZSA9IFNvdXJjZSgpXG4gIHZhciBzaW5rID0gU2luaygpXG5cbiAgcmV0dXJuIHtcbiAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICBzaW5rOiBzaW5rLFxuICAgIHJlc29sdmU6IGZ1bmN0aW9uIChkdXBsZXgpIHtcbiAgICAgIHNvdXJjZS5yZXNvbHZlKGR1cGxleC5zb3VyY2UpXG4gICAgICBzaW5rLnJlc29sdmUoZHVwbGV4LnNpbmspXG5cbiAgICB9XG4gIH1cblxuXG59XG4iLCJcbmV4cG9ydHMuc291cmNlID0gcmVxdWlyZSgnLi9zb3VyY2UnKVxuZXhwb3J0cy50aHJvdWdoID0gcmVxdWlyZSgnLi90aHJvdWdoJylcbmV4cG9ydHMuc2luayA9IHJlcXVpcmUoJy4vc2luaycpXG5leHBvcnRzLmR1cGxleCA9IHJlcXVpcmUoJy4vZHVwbGV4JylcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICB2YXIgcmVhZCwgc3RhcnRlZCA9IGZhbHNlLCBpZCA9IE1hdGgucmFuZG9tKClcblxuICBmdW5jdGlvbiBjb25zdW1lIChfcmVhZCkge1xuICAgIGlmKCFfcmVhZCkgdGhyb3cgbmV3IEVycm9yKCdtdXN0IGJlIHBhc3NlZCBhIHJlYWRhYmxlJylcbiAgICByZWFkID0gX3JlYWRcbiAgICBpZihzdGFydGVkKSBzdHJlYW0ocmVhZClcbiAgfVxuXG4gIGNvbnN1bWUucmVzb2x2ZSA9XG4gIGNvbnN1bWUucmVhZHkgPVxuICBjb25zdW1lLnN0YXJ0ID0gZnVuY3Rpb24gKF9zdHJlYW0pIHtcbiAgICBzdGFydGVkID0gdHJ1ZTsgc3RyZWFtID0gX3N0cmVhbSB8fCBzdHJlYW1cbiAgICBpZihyZWFkKSBzdHJlYW0ocmVhZClcbiAgICByZXR1cm4gY29uc3VtZVxuICB9XG5cbiAgcmV0dXJuIGNvbnN1bWVcbn1cbiIsIlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVhZCwgX2NiLCBhYm9ydENiLCBfZW5kXG5cbiAgdmFyIHJlYWQgPSBmdW5jdGlvbiAoZW5kLCBjYikge1xuICAgIGlmKCFfcmVhZCkge1xuICAgICAgaWYoZW5kKSB7XG4gICAgICAgIF9lbmQgPSBlbmRcbiAgICAgICAgYWJvcnRDYiA9IGNiXG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICAgIF9jYiA9IGNiXG4gICAgfVxuICAgIGVsc2UgX3JlYWQoZW5kLCBjYilcbiAgfVxuICByZWFkLnJlc29sdmUgPSBmdW5jdGlvbiAocmVhZCkge1xuICAgIGlmKF9yZWFkKSB0aHJvdyBuZXcgRXJyb3IoJ2FscmVhZHkgcmVzb2x2ZWQnKVxuICAgIF9yZWFkID0gcmVhZFxuICAgIGlmKCFfcmVhZCkgdGhyb3cgbmV3IEVycm9yKCdubyByZWFkIGNhbm5vdCByZXNvbHZlIScgKyBfcmVhZClcbiAgICBpZihfY2IpIHJlYWQobnVsbCwgX2NiKVxuICAgIGlmKGFib3J0Q2IpIHJlYWQoX2VuZCwgYWJvcnRDYilcbiAgfVxuICByZWFkLmFib3J0ID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgcmVhZC5yZXNvbHZlKGZ1bmN0aW9uIChfLCBjYikge1xuICAgICAgY2IoZXJyIHx8IHRydWUpXG4gICAgfSlcbiAgfVxuICByZXR1cm4gcmVhZFxufVxuXG4iLCJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmVhZCwgcmVhZGVyLCBjYiwgYWJvcnQsIHN0cmVhbVxuXG4gIGZ1bmN0aW9uIGRlbGF5ZWQgKF9yZWFkKSB7XG4gICAgLy9pZiB3ZSBhbHJlYWR5IGhhdmUgdGhlIHN0cmVhbSwgZ28hXG4gICAgaWYoc3RyZWFtKSByZXR1cm4gc3RyZWFtKF9yZWFkKVxuXG4gICAgcmVhZCA9IF9yZWFkXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChfYWJvcnQsIF9jYikge1xuICAgICAgaWYocmVhZGVyKSByZWFkZXIoX2Fib3J0LCBfY2IpXG4gICAgICBlbHNlIGFib3J0ID0gX2Fib3J0LCBjYiA9IF9jYlxuXG4gICAgfVxuICB9XG5cbiAgZGVsYXllZC5yZXNvbHZlID0gZnVuY3Rpb24gKF9zdHJlYW0pIHtcbiAgICBpZihzdHJlYW0pIHRocm93IG5ldyBFcnJvcignYWxyZWFkeSByZXNvbHZlZCcpXG4gICAgc3RyZWFtID0gX3N0cmVhbVxuICAgIGlmKCFzdHJlYW0pIHRocm93IG5ldyBFcnJvcigncmVzb2x2ZSAqbXVzdCogYmUgcGFzc2VkIGEgdHJhbnNmb3JtIHN0cmVhbScpXG4gICAgaWYocmVhZCkge1xuICAgICAgcmVhZGVyID0gc3RyZWFtKHJlYWQpXG4gICAgICBpZihjYikgcmVhZGVyKGFib3J0LCBjYilcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGVsYXllZFxufVxuIiwiXG52YXIgcHVzaGFibGUgPSByZXF1aXJlKCdwdWxsLXB1c2hhYmxlJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsaXN0ZW5lcnMgPSBbXVxuXG4gIGZ1bmN0aW9uIG5vdGlmeSAobWVzc2FnZSkge1xuICAgIC8vIG5vdGlmeSBieSBwdXNoaW5nIHRvIGFsbCBsaXN0ZW5lcnNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgbGlzdGVuZXJzW2ldLnB1c2gobWVzc2FnZSlcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VcbiAgfVxuXG4gIG5vdGlmeS5saXN0ZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gY3JlYXRlIGxpc3RlbmVyIHdpdGggYG9uQ2xvc2VgIGhhbmRsZXJcbiAgICB2YXIgbGlzdGVuZXIgPSBwdXNoYWJsZShmdW5jdGlvbiBvbkNsb3NlICgpIHtcbiAgICAgIC8vIGlmIGxpc3RlbmVyIGlzIGZvdW5kLCBkZWxldGUgZnJvbSBsaXN0XG4gICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcilcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgfSlcbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcilcbiAgICByZXR1cm4gbGlzdGVuZXJcbiAgfVxuXG4gIG5vdGlmeS5hYm9ydCA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAvLyBhYm9ydCBieSBlbmRpbmcgYWxsIGxpc3RlbmVyc1xuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKSBsaXN0ZW5lcnNbMF0uZW5kKGVycilcbiAgfVxuXG4gIG5vdGlmeS5lbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5vdGlmeS5hYm9ydCh0cnVlKVxuICB9XG5cbiAgcmV0dXJuIG5vdGlmeVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBwdWxsUHVzaGFibGVcblxuZnVuY3Rpb24gcHVsbFB1c2hhYmxlIChvbkNsb3NlKSB7XG4gIC8vIGNyZWF0ZSBhIGJ1ZmZlciBmb3IgZGF0YVxuICAvLyB0aGF0IGhhdmUgYmVlbiBwdXNoZWRcbiAgLy8gYnV0IG5vdCB5ZXQgcHVsbGVkLlxuICB2YXIgYnVmZmVyID0gW11cblxuICAvLyBhIHB1c2hhYmxlIGlzIGEgc291cmNlIHN0cmVhbVxuICAvLyAoYWJvcnQsIGNiKSA9PiBjYihlbmQsIGRhdGEpXG4gIC8vXG4gIC8vIHdoZW4gcHVzaGFibGUgaXMgcHVsbGVkLFxuICAvLyBrZWVwIHJlZmVyZW5jZXMgdG8gYWJvcnQgYW5kIGNiXG4gIC8vIHNvIHdlIGNhbiBjYWxsIGJhY2sgYWZ0ZXJcbiAgLy8gLmVuZChlbmQpIG9yIC5wdXNoKGRhdGEpXG4gIHZhciBhYm9ydCwgY2JcbiAgZnVuY3Rpb24gcmVhZCAoX2Fib3J0LCBfY2IpIHtcbiAgICBpZiAoX2Fib3J0KSB7XG4gICAgICBhYm9ydCA9IF9hYm9ydFxuICAgICAgLy8gaWYgdGhlcmUgaXMgYWxyZWFkeSBhIGNiIHdhaXRpbmcsIGFib3J0IGl0LlxuICAgICAgaWYgKGNiKSBjYWxsYmFjayhhYm9ydClcbiAgICB9XG4gICAgY2IgPSBfY2JcbiAgICBkcmFpbigpXG4gIH1cblxuICB2YXIgZW5kZWRcbiAgcmVhZC5lbmQgPSBmdW5jdGlvbiAoZW5kKSB7XG4gICAgZW5kZWQgPSBlbmRlZCB8fCBlbmQgfHwgdHJ1ZVxuICAgIC8vIGF0dGVtcHQgdG8gZHJhaW5cbiAgICBkcmFpbigpXG4gIH1cblxuICByZWFkLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmIChlbmRlZCkgcmV0dXJuXG4gICAgLy8gaWYgc2luayBhbHJlYWR5IHdhaXRpbmcsXG4gICAgLy8gd2UgY2FuIGNhbGwgYmFjayBkaXJlY3RseS5cbiAgICBpZiAoY2IpIHtcbiAgICAgIGNhbGxiYWNrKGFib3J0LCBkYXRhKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIG90aGVyd2lzZSBwdXNoIGRhdGEgYW5kXG4gICAgLy8gYXR0ZW1wdCB0byBkcmFpblxuICAgIGJ1ZmZlci5wdXNoKGRhdGEpXG4gICAgZHJhaW4oKVxuICB9XG5cbiAgcmV0dXJuIHJlYWRcblxuICAvLyBgZHJhaW5gIGNhbGxzIGJhY2sgdG8gKGlmIGFueSkgd2FpdGluZ1xuICAvLyBzaW5rIHdpdGggYWJvcnQsIGVuZCwgb3IgbmV4dCBkYXRhLlxuICBmdW5jdGlvbiBkcmFpbiAoKSB7XG4gICAgaWYgKCFjYikgcmV0dXJuXG5cbiAgICBpZiAoYWJvcnQpIGNhbGxiYWNrKGFib3J0KVxuICAgIGVsc2UgaWYgKCFidWZmZXIubGVuZ3RoICYmIGVuZGVkKSBjYWxsYmFjayhlbmRlZClcbiAgICBlbHNlIGlmIChidWZmZXIubGVuZ3RoKSBjYWxsYmFjayhudWxsLCBidWZmZXIuc2hpZnQoKSlcbiAgfVxuXG4gIC8vIGBjYWxsYmFja2AgY2FsbHMgYmFjayB0byB3YWl0aW5nIHNpbmssXG4gIC8vIGFuZCByZW1vdmVzIHJlZmVyZW5jZXMgdG8gc2luayBjYi5cbiAgZnVuY3Rpb24gY2FsbGJhY2sgKGVyciwgdmFsKSB7XG4gICAgdmFyIF9jYiA9IGNiXG4gICAgLy8gaWYgZXJyb3IgYW5kIHB1c2hhYmxlIHBhc3NlZCBvbkNsb3NlLCBjYWxsIGl0XG4gICAgLy8gdGhlIGZpcnN0IHRpbWUgdGhpcyBzdHJlYW0gZW5kcyBvciBlcnJvcnMuXG4gICAgaWYgKGVyciAmJiBvbkNsb3NlKSB7XG4gICAgICB2YXIgYyA9IG9uQ2xvc2VcbiAgICAgIG9uQ2xvc2UgPSBudWxsXG4gICAgICBjKGVyciA9PT0gdHJ1ZSA/IG51bGwgOiBlcnIpXG4gICAgfVxuICAgIGNiID0gbnVsbFxuICAgIF9jYihlcnIsIHZhbClcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBzb3VyY2VzICA9IHJlcXVpcmUoJy4vc291cmNlcycpXG52YXIgc2lua3MgICAgPSByZXF1aXJlKCcuL3NpbmtzJylcbnZhciB0aHJvdWdocyA9IHJlcXVpcmUoJy4vdGhyb3VnaHMnKVxuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3B1bGwnKVxuXG5mb3IodmFyIGsgaW4gc291cmNlcylcbiAgZXhwb3J0c1trXSA9IHNvdXJjZXNba11cblxuZm9yKHZhciBrIGluIHRocm91Z2hzKVxuICBleHBvcnRzW2tdID0gdGhyb3VnaHNba11cblxuZm9yKHZhciBrIGluIHNpbmtzKVxuICBleHBvcnRzW2tdID0gc2lua3Nba11cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcHVsbCAoYSkge1xuICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aFxuICBpZiAodHlwZW9mIGEgPT09ICdmdW5jdGlvbicgJiYgYS5sZW5ndGggPT09IDEpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShsZW5ndGgpXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXVxuICAgIHJldHVybiBmdW5jdGlvbiAocmVhZCkge1xuICAgICAgYXJncy51bnNoaWZ0KHJlYWQpXG4gICAgICByZXR1cm4gcHVsbC5hcHBseShudWxsLCBhcmdzKVxuICAgIH1cbiAgfVxuXG4gIHZhciByZWFkID0gYVxuXG4gIGlmIChyZWFkICYmIHR5cGVvZiByZWFkLnNvdXJjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJlYWQgPSByZWFkLnNvdXJjZVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHZhciBzID0gYXJndW1lbnRzW2ldXG4gICAgaWYgKHR5cGVvZiBzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZWFkID0gcyhyZWFkKVxuICAgIH0gZWxzZSBpZiAocyAmJiB0eXBlb2YgcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHMuc2luayhyZWFkKVxuICAgICAgcmVhZCA9IHMuc291cmNlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlYWRcbn1cblxuXG5cblxuXG4iLCIndXNlIHN0cmljdCdcblxudmFyIHJlZHVjZSA9IHJlcXVpcmUoJy4vcmVkdWNlJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb2xsZWN0IChjYikge1xuICByZXR1cm4gcmVkdWNlKGZ1bmN0aW9uIChhcnIsIGl0ZW0pIHtcbiAgICBhcnIucHVzaChpdGVtKVxuICAgIHJldHVybiBhcnJcbiAgfSwgW10sIGNiKVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciByZWR1Y2UgPSByZXF1aXJlKCcuL3JlZHVjZScpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29uY2F0IChjYikge1xuICByZXR1cm4gcmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGEgKyBiXG4gIH0sICcnLCBjYilcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRyYWluIChvcCwgZG9uZSkge1xuICB2YXIgcmVhZCwgYWJvcnRcblxuICBmdW5jdGlvbiBzaW5rIChfcmVhZCkge1xuICAgIHJlYWQgPSBfcmVhZFxuICAgIGlmKGFib3J0KSByZXR1cm4gc2luay5hYm9ydCgpXG4gICAgLy90aGlzIGZ1bmN0aW9uIGlzIG11Y2ggc2ltcGxlciB0byB3cml0ZSBpZiB5b3VcbiAgICAvL2p1c3QgdXNlIHJlY3Vyc2lvbiwgYnV0IGJ5IHVzaW5nIGEgd2hpbGUgbG9vcFxuICAgIC8vd2UgZG8gbm90IGJsb3cgdGhlIHN0YWNrIGlmIHRoZSBzdHJlYW0gaGFwcGVucyB0byBiZSBzeW5jLlxuICAgIDsoZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgdmFyIGxvb3AgPSB0cnVlLCBjYmVkID0gZmFsc2VcbiAgICAgICAgd2hpbGUobG9vcCkge1xuICAgICAgICAgIGNiZWQgPSBmYWxzZVxuICAgICAgICAgIHJlYWQobnVsbCwgZnVuY3Rpb24gKGVuZCwgZGF0YSkge1xuICAgICAgICAgICAgY2JlZCA9IHRydWVcbiAgICAgICAgICAgIGlmKGVuZCA9IGVuZCB8fCBhYm9ydCkge1xuICAgICAgICAgICAgICBsb29wID0gZmFsc2VcbiAgICAgICAgICAgICAgaWYoZG9uZSkgZG9uZShlbmQgPT09IHRydWUgPyBudWxsIDogZW5kKVxuICAgICAgICAgICAgICBlbHNlIGlmKGVuZCAmJiBlbmQgIT09IHRydWUpXG4gICAgICAgICAgICAgICAgdGhyb3cgZW5kXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKG9wICYmIGZhbHNlID09PSBvcChkYXRhKSB8fCBhYm9ydCkge1xuICAgICAgICAgICAgICBsb29wID0gZmFsc2VcbiAgICAgICAgICAgICAgcmVhZChhYm9ydCB8fCB0cnVlLCBkb25lIHx8IGZ1bmN0aW9uICgpIHt9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZighbG9vcCl7XG4gICAgICAgICAgICAgIG5leHQoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgaWYoIWNiZWQpIHtcbiAgICAgICAgICAgIGxvb3AgPSBmYWxzZVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSgpXG4gIH1cblxuICBzaW5rLmFib3J0ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgICBpZignZnVuY3Rpb24nID09IHR5cGVvZiBlcnIpXG4gICAgICBjYiA9IGVyciwgZXJyID0gdHJ1ZVxuICAgIGFib3J0ID0gZXJyIHx8IHRydWVcbiAgICBpZihyZWFkKSByZXR1cm4gcmVhZChhYm9ydCwgY2IgfHwgZnVuY3Rpb24gKCkge30pXG4gIH1cblxuICByZXR1cm4gc2lua1xufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIGlkIChlKSB7IHJldHVybiBlIH1cbnZhciBwcm9wID0gcmVxdWlyZSgnLi4vdXRpbC9wcm9wJylcbnZhciBkcmFpbiA9IHJlcXVpcmUoJy4vZHJhaW4nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZpbmQgKHRlc3QsIGNiKSB7XG4gIHZhciBlbmRlZCA9IGZhbHNlXG4gIGlmKCFjYilcbiAgICBjYiA9IHRlc3QsIHRlc3QgPSBpZFxuICBlbHNlXG4gICAgdGVzdCA9IHByb3AodGVzdCkgfHwgaWRcblxuICByZXR1cm4gZHJhaW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZih0ZXN0KGRhdGEpKSB7XG4gICAgICBlbmRlZCA9IHRydWVcbiAgICAgIGNiKG51bGwsIGRhdGEpXG4gICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYoZW5kZWQpIHJldHVybiAvL2FscmVhZHkgY2FsbGVkIGJhY2tcbiAgICBjYihlcnIgPT09IHRydWUgPyBudWxsIDogZXJyLCBudWxsKVxuICB9KVxufVxuXG5cblxuXG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRyYWluOiByZXF1aXJlKCcuL2RyYWluJyksXG4gIG9uRW5kOiByZXF1aXJlKCcuL29uLWVuZCcpLFxuICBsb2c6IHJlcXVpcmUoJy4vbG9nJyksXG4gIGZpbmQ6IHJlcXVpcmUoJy4vZmluZCcpLFxuICByZWR1Y2U6IHJlcXVpcmUoJy4vcmVkdWNlJyksXG4gIGNvbGxlY3Q6IHJlcXVpcmUoJy4vY29sbGVjdCcpLFxuICBjb25jYXQ6IHJlcXVpcmUoJy4vY29uY2F0Jylcbn1cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBkcmFpbiA9IHJlcXVpcmUoJy4vZHJhaW4nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGxvZyAoZG9uZSkge1xuICByZXR1cm4gZHJhaW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhkYXRhKVxuICB9LCBkb25lKVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBkcmFpbiA9IHJlcXVpcmUoJy4vZHJhaW4nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG9uRW5kIChkb25lKSB7XG4gIHJldHVybiBkcmFpbihudWxsLCBkb25lKVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBkcmFpbiA9IHJlcXVpcmUoJy4vZHJhaW4nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlZHVjZSAocmVkdWNlciwgYWNjLCBjYikge1xuICByZXR1cm4gZHJhaW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBhY2MgPSByZWR1Y2VyKGFjYywgZGF0YSlcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIGNiKGVyciwgYWNjKVxuICB9KVxufVxuXG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb3VudCAobWF4KSB7XG4gIHZhciBpID0gMDsgbWF4ID0gbWF4IHx8IEluZmluaXR5XG4gIHJldHVybiBmdW5jdGlvbiAoZW5kLCBjYikge1xuICAgIGlmKGVuZCkgcmV0dXJuIGNiICYmIGNiKGVuZClcbiAgICBpZihpID4gbWF4KVxuICAgICAgcmV0dXJuIGNiKHRydWUpXG4gICAgY2IobnVsbCwgaSsrKVxuICB9XG59XG5cblxuIiwiJ3VzZSBzdHJpY3QnXG4vL2Egc3RyZWFtIHRoYXQgZW5kcyBpbW1lZGlhdGVseS5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW1wdHkgKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGFib3J0LCBjYikge1xuICAgIGNiKHRydWUpXG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuLy9hIHN0cmVhbSB0aGF0IGVycm9ycyBpbW1lZGlhdGVseS5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXJyb3IgKGVycikge1xuICByZXR1cm4gZnVuY3Rpb24gKGFib3J0LCBjYikge1xuICAgIGNiKGVycilcbiAgfVxufVxuXG4iLCIndXNlIHN0cmljdCdcbm1vZHVsZS5leHBvcnRzID0ge1xuICBrZXlzOiByZXF1aXJlKCcuL2tleXMnKSxcbiAgb25jZTogcmVxdWlyZSgnLi9vbmNlJyksXG4gIHZhbHVlczogcmVxdWlyZSgnLi92YWx1ZXMnKSxcbiAgY291bnQ6IHJlcXVpcmUoJy4vY291bnQnKSxcbiAgaW5maW5pdGU6IHJlcXVpcmUoJy4vaW5maW5pdGUnKSxcbiAgZW1wdHk6IHJlcXVpcmUoJy4vZW1wdHknKSxcbiAgZXJyb3I6IHJlcXVpcmUoJy4vZXJyb3InKVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluZmluaXRlIChnZW5lcmF0ZSkge1xuICBnZW5lcmF0ZSA9IGdlbmVyYXRlIHx8IE1hdGgucmFuZG9tXG4gIHJldHVybiBmdW5jdGlvbiAoZW5kLCBjYikge1xuICAgIGlmKGVuZCkgcmV0dXJuIGNiICYmIGNiKGVuZClcbiAgICByZXR1cm4gY2IobnVsbCwgZ2VuZXJhdGUoKSlcbiAgfVxufVxuXG5cbiIsIid1c2Ugc3RyaWN0J1xudmFyIHZhbHVlcyA9IHJlcXVpcmUoJy4vdmFsdWVzJylcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICByZXR1cm4gdmFsdWVzKE9iamVjdC5rZXlzKG9iamVjdCkpXG59XG5cblxuIiwiJ3VzZSBzdHJpY3QnXG52YXIgYWJvcnRDYiA9IHJlcXVpcmUoJy4uL3V0aWwvYWJvcnQtY2InKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG9uY2UgKHZhbHVlLCBvbkFib3J0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgaWYoYWJvcnQpXG4gICAgICByZXR1cm4gYWJvcnRDYihjYiwgYWJvcnQsIG9uQWJvcnQpXG4gICAgaWYodmFsdWUgIT0gbnVsbCkge1xuICAgICAgdmFyIF92YWx1ZSA9IHZhbHVlOyB2YWx1ZSA9IG51bGxcbiAgICAgIGNiKG51bGwsIF92YWx1ZSlcbiAgICB9IGVsc2VcbiAgICAgIGNiKHRydWUpXG4gIH1cbn1cblxuXG4iLCIndXNlIHN0cmljdCdcbnZhciBhYm9ydENiID0gcmVxdWlyZSgnLi4vdXRpbC9hYm9ydC1jYicpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdmFsdWVzIChhcnJheSwgb25BYm9ydCkge1xuICBpZighYXJyYXkpXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhYm9ydCwgY2IpIHtcbiAgICAgIGlmKGFib3J0KSByZXR1cm4gYWJvcnRDYihjYiwgYWJvcnQsIG9uQWJvcnQpXG4gICAgICByZXR1cm4gY2IodHJ1ZSlcbiAgICB9XG4gIGlmKCFBcnJheS5pc0FycmF5KGFycmF5KSlcbiAgICBhcnJheSA9IE9iamVjdC5rZXlzKGFycmF5KS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgIHJldHVybiBhcnJheVtrXVxuICAgIH0pXG4gIHZhciBpID0gMFxuICByZXR1cm4gZnVuY3Rpb24gKGFib3J0LCBjYikge1xuICAgIGlmKGFib3J0KVxuICAgICAgcmV0dXJuIGFib3J0Q2IoY2IsIGFib3J0LCBvbkFib3J0KVxuICAgIGNiKGkgPj0gYXJyYXkubGVuZ3RoIHx8IG51bGwsIGFycmF5W2krK10pXG4gIH1cbn1cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIGlkIChlKSB7IHJldHVybiBlIH1cbnZhciBwcm9wID0gcmVxdWlyZSgnLi4vdXRpbC9wcm9wJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhc3luY01hcCAobWFwKSB7XG4gIGlmKCFtYXApIHJldHVybiBpZFxuICBtYXAgPSBwcm9wKG1hcClcbiAgdmFyIGJ1c3kgPSBmYWxzZSwgYWJvcnRDYiwgYWJvcnRlZFxuICByZXR1cm4gZnVuY3Rpb24gKHJlYWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCAoYWJvcnQsIGNiKSB7XG4gICAgICBpZihhYm9ydGVkKSByZXR1cm4gY2IoYWJvcnRlZClcbiAgICAgIGlmKGFib3J0KSB7XG4gICAgICAgIGFib3J0ZWQgPSBhYm9ydFxuICAgICAgICBpZighYnVzeSkgcmVhZChhYm9ydCwgY2IpXG4gICAgICAgIGVsc2UgcmVhZChhYm9ydCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vaWYgd2UgYXJlIHN0aWxsIGJ1c3ksIHdhaXQgZm9yIHRoZSBtYXBwZXIgdG8gY29tcGxldGUuXG4gICAgICAgICAgaWYoYnVzeSkgYWJvcnRDYiA9IGNiXG4gICAgICAgICAgZWxzZSBjYihhYm9ydClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICAgcmVhZChudWxsLCBmdW5jdGlvbiAoZW5kLCBkYXRhKSB7XG4gICAgICAgICAgaWYoZW5kKSBjYihlbmQpXG4gICAgICAgICAgZWxzZSBpZihhYm9ydGVkKSBjYihhYm9ydGVkKVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnVzeSA9IHRydWVcbiAgICAgICAgICAgIG1hcChkYXRhLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICAgIGJ1c3kgPSBmYWxzZVxuICAgICAgICAgICAgICBpZihhYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgY2IoYWJvcnRlZClcbiAgICAgICAgICAgICAgICBhYm9ydENiKGFib3J0ZWQpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZihlcnIpIG5leHQgKGVyciwgY2IpXG4gICAgICAgICAgICAgIGVsc2UgY2IobnVsbCwgZGF0YSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgfVxufVxuXG5cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgdGVzdGVyID0gcmVxdWlyZSgnLi4vdXRpbC90ZXN0ZXInKVxudmFyIGZpbHRlciA9IHJlcXVpcmUoJy4vZmlsdGVyJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaWx0ZXJOb3QgKHRlc3QpIHtcbiAgdGVzdCA9IHRlc3Rlcih0ZXN0KVxuICByZXR1cm4gZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiAhdGVzdChkYXRhKSB9KVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciB0ZXN0ZXIgPSByZXF1aXJlKCcuLi91dGlsL3Rlc3RlcicpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmlsdGVyICh0ZXN0KSB7XG4gIC8vcmVnZXhwXG4gIHRlc3QgPSB0ZXN0ZXIodGVzdClcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZWFkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQgKGVuZCwgY2IpIHtcbiAgICAgIHZhciBzeW5jLCBsb29wID0gdHJ1ZVxuICAgICAgd2hpbGUobG9vcCkge1xuICAgICAgICBsb29wID0gZmFsc2VcbiAgICAgICAgc3luYyA9IHRydWVcbiAgICAgICAgcmVhZChlbmQsIGZ1bmN0aW9uIChlbmQsIGRhdGEpIHtcbiAgICAgICAgICBpZighZW5kICYmICF0ZXN0KGRhdGEpKVxuICAgICAgICAgICAgcmV0dXJuIHN5bmMgPyBsb29wID0gdHJ1ZSA6IG5leHQoZW5kLCBjYilcbiAgICAgICAgICBjYihlbmQsIGRhdGEpXG4gICAgICAgIH0pXG4gICAgICAgIHN5bmMgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4iLCIndXNlIHN0cmljdCdcblxudmFyIHZhbHVlcyA9IHJlcXVpcmUoJy4uL3NvdXJjZXMvdmFsdWVzJylcbnZhciBvbmNlID0gcmVxdWlyZSgnLi4vc291cmNlcy9vbmNlJylcblxuLy9jb252ZXJ0IGEgc3RyZWFtIG9mIGFycmF5cyBvciBzdHJlYW1zIGludG8ganVzdCBhIHN0cmVhbS5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmxhdHRlbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocmVhZCkge1xuICAgIHZhciBfcmVhZFxuICAgIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgICBpZiAoYWJvcnQpIHsgLy9hYm9ydCB0aGUgY3VycmVudCBzdHJlYW0sIGFuZCB0aGVuIHN0cmVhbSBvZiBzdHJlYW1zLlxuICAgICAgICBfcmVhZCA/IF9yZWFkKGFib3J0LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICByZWFkKGVyciB8fCBhYm9ydCwgY2IpXG4gICAgICAgIH0pIDogcmVhZChhYm9ydCwgY2IpXG4gICAgICB9XG4gICAgICBlbHNlIGlmKF9yZWFkKSBuZXh0Q2h1bmsoKVxuICAgICAgZWxzZSBuZXh0U3RyZWFtKClcblxuICAgICAgZnVuY3Rpb24gbmV4dENodW5rICgpIHtcbiAgICAgICAgX3JlYWQobnVsbCwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgIGlmIChlcnIgPT09IHRydWUpIG5leHRTdHJlYW0oKVxuICAgICAgICAgIGVsc2UgaWYgKGVycikge1xuICAgICAgICAgICAgcmVhZCh0cnVlLCBmdW5jdGlvbihhYm9ydEVycikge1xuICAgICAgICAgICAgICAvLyBUT0RPOiB3aGF0IGRvIHdlIGRvIHdpdGggdGhlIGFib3J0RXJyP1xuICAgICAgICAgICAgICBjYihlcnIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGNiKG51bGwsIGRhdGEpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBuZXh0U3RyZWFtICgpIHtcbiAgICAgICAgX3JlYWQgPSBudWxsXG4gICAgICAgIHJlYWQobnVsbCwgZnVuY3Rpb24gKGVuZCwgc3RyZWFtKSB7XG4gICAgICAgICAgaWYoZW5kKVxuICAgICAgICAgICAgcmV0dXJuIGNiKGVuZClcbiAgICAgICAgICBpZihBcnJheS5pc0FycmF5KHN0cmVhbSkgfHwgc3RyZWFtICYmICdvYmplY3QnID09PSB0eXBlb2Ygc3RyZWFtKVxuICAgICAgICAgICAgc3RyZWFtID0gdmFsdWVzKHN0cmVhbSlcbiAgICAgICAgICBlbHNlIGlmKCdmdW5jdGlvbicgIT0gdHlwZW9mIHN0cmVhbSlcbiAgICAgICAgICAgIHN0cmVhbSA9IG9uY2Uoc3RyZWFtKVxuICAgICAgICAgIF9yZWFkID0gc3RyZWFtXG4gICAgICAgICAgbmV4dENodW5rKClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBtYXA6IHJlcXVpcmUoJy4vbWFwJyksXG4gIGFzeW5jTWFwOiByZXF1aXJlKCcuL2FzeW5jLW1hcCcpLFxuICBmaWx0ZXI6IHJlcXVpcmUoJy4vZmlsdGVyJyksXG4gIGZpbHRlck5vdDogcmVxdWlyZSgnLi9maWx0ZXItbm90JyksXG4gIHRocm91Z2g6IHJlcXVpcmUoJy4vdGhyb3VnaCcpLFxuICB0YWtlOiByZXF1aXJlKCcuL3Rha2UnKSxcbiAgdW5pcXVlOiByZXF1aXJlKCcuL3VuaXF1ZScpLFxuICBub25VbmlxdWU6IHJlcXVpcmUoJy4vbm9uLXVuaXF1ZScpLFxuICBmbGF0dGVuOiByZXF1aXJlKCcuL2ZsYXR0ZW4nKVxufVxuXG5cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIGlkIChlKSB7IHJldHVybiBlIH1cbnZhciBwcm9wID0gcmVxdWlyZSgnLi4vdXRpbC9wcm9wJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXAgKG1hcHBlcikge1xuICBpZighbWFwcGVyKSByZXR1cm4gaWRcbiAgbWFwcGVyID0gcHJvcChtYXBwZXIpXG4gIHJldHVybiBmdW5jdGlvbiAocmVhZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgICByZWFkKGFib3J0LCBmdW5jdGlvbiAoZW5kLCBkYXRhKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSAhZW5kID8gbWFwcGVyKGRhdGEpIDogbnVsbFxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVhZChlcnIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjYihlcnIpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBjYihlbmQsIGRhdGEpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciB1bmlxdWUgPSByZXF1aXJlKCcuL3VuaXF1ZScpXG5cbi8vcGFzc2VzIGFuIGl0ZW0gdGhyb3VnaCB3aGVuIHlvdSBzZWUgaXQgZm9yIHRoZSBzZWNvbmQgdGltZS5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9uVW5pcXVlIChmaWVsZCkge1xuICByZXR1cm4gdW5pcXVlKGZpZWxkLCB0cnVlKVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vcmVhZCBhIG51bWJlciBvZiBpdGVtcyBhbmQgdGhlbiBzdG9wLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0YWtlICh0ZXN0LCBvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9XG4gIHZhciBsYXN0ID0gb3B0cy5sYXN0IHx8IGZhbHNlIC8vIHdoZXRoZXIgdGhlIGZpcnN0IGl0ZW0gZm9yIHdoaWNoICF0ZXN0KGl0ZW0pIHNob3VsZCBzdGlsbCBwYXNzXG4gIHZhciBlbmRlZCA9IGZhbHNlXG4gIGlmKCdudW1iZXInID09PSB0eXBlb2YgdGVzdCkge1xuICAgIGxhc3QgPSB0cnVlXG4gICAgdmFyIG4gPSB0ZXN0OyB0ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIC0tblxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAocmVhZCkge1xuXG4gICAgZnVuY3Rpb24gdGVybWluYXRlIChjYikge1xuICAgICAgcmVhZCh0cnVlLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGxhc3QgPSBmYWxzZTsgY2IoZXJyIHx8IHRydWUpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoZW5kLCBjYikge1xuICAgICAgaWYoZW5kZWQpICAgICAgICAgICAgbGFzdCA/IHRlcm1pbmF0ZShjYikgOiBjYihlbmRlZClcbiAgICAgIGVsc2UgaWYoZW5kZWQgPSBlbmQpIHJlYWQoZW5kZWQsIGNiKVxuICAgICAgZWxzZVxuICAgICAgICByZWFkKG51bGwsIGZ1bmN0aW9uIChlbmQsIGRhdGEpIHtcbiAgICAgICAgICBpZihlbmRlZCA9IGVuZGVkIHx8IGVuZCkge1xuICAgICAgICAgICAgLy9sYXN0ID8gdGVybWluYXRlKGNiKSA6XG4gICAgICAgICAgICBjYihlbmRlZClcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZighdGVzdChkYXRhKSkge1xuICAgICAgICAgICAgZW5kZWQgPSB0cnVlXG4gICAgICAgICAgICBsYXN0ID8gY2IobnVsbCwgZGF0YSkgOiB0ZXJtaW5hdGUoY2IpXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNiKG51bGwsIGRhdGEpXG4gICAgICAgIH0pXG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxuLy9hIHBhc3MgdGhyb3VnaCBzdHJlYW0gdGhhdCBkb2Vzbid0IGNoYW5nZSB0aGUgdmFsdWUuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRocm91Z2ggKG9wLCBvbkVuZCkge1xuICB2YXIgYSA9IGZhbHNlXG5cbiAgZnVuY3Rpb24gb25jZSAoYWJvcnQpIHtcbiAgICBpZihhIHx8ICFvbkVuZCkgcmV0dXJuXG4gICAgYSA9IHRydWVcbiAgICBvbkVuZChhYm9ydCA9PT0gdHJ1ZSA/IG51bGwgOiBhYm9ydClcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAocmVhZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZW5kLCBjYikge1xuICAgICAgaWYoZW5kKSBvbmNlKGVuZClcbiAgICAgIHJldHVybiByZWFkKGVuZCwgZnVuY3Rpb24gKGVuZCwgZGF0YSkge1xuICAgICAgICBpZighZW5kKSBvcCAmJiBvcChkYXRhKVxuICAgICAgICBlbHNlIG9uY2UoZW5kKVxuICAgICAgICBjYihlbmQsIGRhdGEpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIGlkIChlKSB7IHJldHVybiBlIH1cbnZhciBwcm9wID0gcmVxdWlyZSgnLi4vdXRpbC9wcm9wJylcbnZhciBmaWx0ZXIgPSByZXF1aXJlKCcuL2ZpbHRlcicpXG5cbi8vZHJvcCBpdGVtcyB5b3UgaGF2ZSBhbHJlYWR5IHNlZW4uXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHVuaXF1ZSAoZmllbGQsIGludmVydCkge1xuICBmaWVsZCA9IHByb3AoZmllbGQpIHx8IGlkXG4gIHZhciBzZWVuID0ge31cbiAgcmV0dXJuIGZpbHRlcihmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZhciBrZXkgPSBmaWVsZChkYXRhKVxuICAgIGlmKHNlZW5ba2V5XSkgcmV0dXJuICEhaW52ZXJ0IC8vZmFsc2UsIGJ5IGRlZmF1bHRcbiAgICBlbHNlIHNlZW5ba2V5XSA9IHRydWVcbiAgICByZXR1cm4gIWludmVydCAvL3RydWUgYnkgZGVmYXVsdFxuICB9KVxufVxuXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGFib3J0Q2IoY2IsIGFib3J0LCBvbkFib3J0KSB7XG4gIGNiKGFib3J0KVxuICBvbkFib3J0ICYmIG9uQWJvcnQoYWJvcnQgPT09IHRydWUgPyBudWxsOiBhYm9ydClcbiAgcmV0dXJuXG59XG5cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcHJvcCAoa2V5KSB7XG4gIHJldHVybiBrZXkgJiYgKFxuICAgICdzdHJpbmcnID09IHR5cGVvZiBrZXlcbiAgICA/IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhW2tleV0gfVxuICAgIDogJ29iamVjdCcgPT09IHR5cGVvZiBrZXkgJiYgJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGtleS5leGVjIC8vcmVnZXhwXG4gICAgPyBmdW5jdGlvbiAoZGF0YSkgeyB2YXIgdiA9IGtleS5leGVjKGRhdGEpOyByZXR1cm4gdiAmJiB2WzBdIH1cbiAgICA6IGtleVxuICApXG59XG4iLCJ2YXIgcHJvcCA9IHJlcXVpcmUoJy4vcHJvcCcpXG5cbmZ1bmN0aW9uIGlkIChlKSB7IHJldHVybiBlIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZXN0ZXIgKHRlc3QpIHtcbiAgcmV0dXJuIChcbiAgICAnb2JqZWN0JyA9PT0gdHlwZW9mIHRlc3QgJiYgJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHRlc3QudGVzdCAvL3JlZ2V4cFxuICAgID8gZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIHRlc3QudGVzdChkYXRhKSB9XG4gICAgOiBwcm9wICh0ZXN0KSB8fCBpZFxuICApXG59XG4iLCJcbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHRyaW07XG5cbmZ1bmN0aW9uIHRyaW0oc3RyKXtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJyk7XG59XG5cbmV4cG9ydHMubGVmdCA9IGZ1bmN0aW9uKHN0cil7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJyk7XG59O1xuXG5leHBvcnRzLnJpZ2h0ID0gZnVuY3Rpb24oc3RyKXtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciB3aW5kb3cgPSByZXF1aXJlKFwiZ2xvYmFsL3dpbmRvd1wiKVxudmFyIG9uY2UgPSByZXF1aXJlKFwib25jZVwiKVxudmFyIGlzRnVuY3Rpb24gPSByZXF1aXJlKFwiaXMtZnVuY3Rpb25cIilcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKFwicGFyc2UtaGVhZGVyc1wiKVxudmFyIHh0ZW5kID0gcmVxdWlyZShcInh0ZW5kXCIpXG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlWEhSXG5jcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgfHwgbm9vcFxuY3JlYXRlWEhSLlhEb21haW5SZXF1ZXN0ID0gXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiAobmV3IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCgpKSA/IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCA6IHdpbmRvdy5YRG9tYWluUmVxdWVzdFxuXG5mb3JFYWNoQXJyYXkoW1wiZ2V0XCIsIFwicHV0XCIsIFwicG9zdFwiLCBcInBhdGNoXCIsIFwiaGVhZFwiLCBcImRlbGV0ZVwiXSwgZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgY3JlYXRlWEhSW21ldGhvZCA9PT0gXCJkZWxldGVcIiA/IFwiZGVsXCIgOiBtZXRob2RdID0gZnVuY3Rpb24odXJpLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICBvcHRpb25zID0gaW5pdFBhcmFtcyh1cmksIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAgICAgICBvcHRpb25zLm1ldGhvZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgICAgIHJldHVybiBfY3JlYXRlWEhSKG9wdGlvbnMpXG4gICAgfVxufSlcblxuZnVuY3Rpb24gZm9yRWFjaEFycmF5KGFycmF5LCBpdGVyYXRvcikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0b3IoYXJyYXlbaV0pXG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0VtcHR5KG9iail7XG4gICAgZm9yKHZhciBpIGluIG9iail7XG4gICAgICAgIGlmKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGluaXRQYXJhbXModXJpLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIHZhciBwYXJhbXMgPSB1cmlcblxuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIGNhbGxiYWNrID0gb3B0aW9uc1xuICAgICAgICBpZiAodHlwZW9mIHVyaSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcGFyYW1zID0ge3VyaTp1cml9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXMgPSB4dGVuZChvcHRpb25zLCB7dXJpOiB1cml9KVxuICAgIH1cblxuICAgIHBhcmFtcy5jYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHBhcmFtc1xufVxuXG5mdW5jdGlvbiBjcmVhdGVYSFIodXJpLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIG9wdGlvbnMgPSBpbml0UGFyYW1zKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spXG4gICAgcmV0dXJuIF9jcmVhdGVYSFIob3B0aW9ucylcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZVhIUihvcHRpb25zKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFja1xuICAgIGlmKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJ1bmRlZmluZWRcIil7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbGxiYWNrIGFyZ3VtZW50IG1pc3NpbmdcIilcbiAgICB9XG4gICAgY2FsbGJhY2sgPSBvbmNlKGNhbGxiYWNrKVxuXG4gICAgZnVuY3Rpb24gcmVhZHlzdGF0ZWNoYW5nZSgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICBsb2FkRnVuYygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRCb2R5KCkge1xuICAgICAgICAvLyBDaHJvbWUgd2l0aCByZXF1ZXN0VHlwZT1ibG9iIHRocm93cyBlcnJvcnMgYXJyb3VuZCB3aGVuIGV2ZW4gdGVzdGluZyBhY2Nlc3MgdG8gcmVzcG9uc2VUZXh0XG4gICAgICAgIHZhciBib2R5ID0gdW5kZWZpbmVkXG5cbiAgICAgICAgaWYgKHhoci5yZXNwb25zZSkge1xuICAgICAgICAgICAgYm9keSA9IHhoci5yZXNwb25zZVxuICAgICAgICB9IGVsc2UgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09IFwidGV4dFwiIHx8ICF4aHIucmVzcG9uc2VUeXBlKSB7XG4gICAgICAgICAgICBib2R5ID0geGhyLnJlc3BvbnNlVGV4dCB8fCB4aHIucmVzcG9uc2VYTUxcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0pzb24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSlcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm9keVxuICAgIH1cblxuICAgIHZhciBmYWlsdXJlUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgYm9keTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDAsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgdXJsOiB1cmksXG4gICAgICAgICAgICAgICAgcmF3UmVxdWVzdDogeGhyXG4gICAgICAgICAgICB9XG5cbiAgICBmdW5jdGlvbiBlcnJvckZ1bmMoZXZ0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpXG4gICAgICAgIGlmKCEoZXZ0IGluc3RhbmNlb2YgRXJyb3IpKXtcbiAgICAgICAgICAgIGV2dCA9IG5ldyBFcnJvcihcIlwiICsgKGV2dCB8fCBcIlVua25vd24gWE1MSHR0cFJlcXVlc3QgRXJyb3JcIikgKVxuICAgICAgICB9XG4gICAgICAgIGV2dC5zdGF0dXNDb2RlID0gMFxuICAgICAgICBjYWxsYmFjayhldnQsIGZhaWx1cmVSZXNwb25zZSlcbiAgICB9XG5cbiAgICAvLyB3aWxsIGxvYWQgdGhlIGRhdGEgJiBwcm9jZXNzIHRoZSByZXNwb25zZSBpbiBhIHNwZWNpYWwgcmVzcG9uc2Ugb2JqZWN0XG4gICAgZnVuY3Rpb24gbG9hZEZ1bmMoKSB7XG4gICAgICAgIGlmIChhYm9ydGVkKSByZXR1cm5cbiAgICAgICAgdmFyIHN0YXR1c1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFRpbWVyKVxuICAgICAgICBpZihvcHRpb25zLnVzZVhEUiAmJiB4aHIuc3RhdHVzPT09dW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvL0lFOCBDT1JTIEdFVCBzdWNjZXNzZnVsIHJlc3BvbnNlIGRvZXNuJ3QgaGF2ZSBhIHN0YXR1cyBmaWVsZCwgYnV0IGJvZHkgaXMgZmluZVxuICAgICAgICAgICAgc3RhdHVzID0gMjAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0dXMgPSAoeGhyLnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHhoci5zdGF0dXMpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3BvbnNlID0gZmFpbHVyZVJlc3BvbnNlXG4gICAgICAgIHZhciBlcnIgPSBudWxsXG5cbiAgICAgICAgaWYgKHN0YXR1cyAhPT0gMCl7XG4gICAgICAgICAgICByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBib2R5OiBnZXRCb2R5KCksXG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogc3RhdHVzLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgIHVybDogdXJpLFxuICAgICAgICAgICAgICAgIHJhd1JlcXVlc3Q6IHhoclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycyl7IC8vcmVtZW1iZXIgeGhyIGNhbiBpbiBmYWN0IGJlIFhEUiBmb3IgQ09SUyBpbiBJRVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMgPSBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyID0gbmV3IEVycm9yKFwiSW50ZXJuYWwgWE1MSHR0cFJlcXVlc3QgRXJyb3JcIilcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3BvbnNlLCByZXNwb25zZS5ib2R5KVxuXG4gICAgfVxuXG4gICAgdmFyIHhociA9IG9wdGlvbnMueGhyIHx8IG51bGxcblxuICAgIGlmICgheGhyKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNvcnMgfHwgb3B0aW9ucy51c2VYRFIpIHtcbiAgICAgICAgICAgIHhociA9IG5ldyBjcmVhdGVYSFIuWERvbWFpblJlcXVlc3QoKVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHhociA9IG5ldyBjcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGtleVxuICAgIHZhciBhYm9ydGVkXG4gICAgdmFyIHVyaSA9IHhoci51cmwgPSBvcHRpb25zLnVyaSB8fCBvcHRpb25zLnVybFxuICAgIHZhciBtZXRob2QgPSB4aHIubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIlxuICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5IHx8IG9wdGlvbnMuZGF0YSB8fCBudWxsXG4gICAgdmFyIGhlYWRlcnMgPSB4aHIuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fVxuICAgIHZhciBzeW5jID0gISFvcHRpb25zLnN5bmNcbiAgICB2YXIgaXNKc29uID0gZmFsc2VcbiAgICB2YXIgdGltZW91dFRpbWVyXG5cbiAgICBpZiAoXCJqc29uXCIgaW4gb3B0aW9ucykge1xuICAgICAgICBpc0pzb24gPSB0cnVlXG4gICAgICAgIGhlYWRlcnNbXCJhY2NlcHRcIl0gfHwgaGVhZGVyc1tcIkFjY2VwdFwiXSB8fCAoaGVhZGVyc1tcIkFjY2VwdFwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiKSAvL0Rvbid0IG92ZXJyaWRlIGV4aXN0aW5nIGFjY2VwdCBoZWFkZXIgZGVjbGFyZWQgYnkgdXNlclxuICAgICAgICBpZiAobWV0aG9kICE9PSBcIkdFVFwiICYmIG1ldGhvZCAhPT0gXCJIRUFEXCIpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl0gfHwgaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSB8fCAoaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiKSAvL0Rvbid0IG92ZXJyaWRlIGV4aXN0aW5nIGFjY2VwdCBoZWFkZXIgZGVjbGFyZWQgYnkgdXNlclxuICAgICAgICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuanNvbilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSByZWFkeXN0YXRlY2hhbmdlXG4gICAgeGhyLm9ubG9hZCA9IGxvYWRGdW5jXG4gICAgeGhyLm9uZXJyb3IgPSBlcnJvckZ1bmNcbiAgICAvLyBJRTkgbXVzdCBoYXZlIG9ucHJvZ3Jlc3MgYmUgc2V0IHRvIGEgdW5pcXVlIGZ1bmN0aW9uLlxuICAgIHhoci5vbnByb2dyZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBJRSBtdXN0IGRpZVxuICAgIH1cbiAgICB4aHIub250aW1lb3V0ID0gZXJyb3JGdW5jXG4gICAgeGhyLm9wZW4obWV0aG9kLCB1cmksICFzeW5jLCBvcHRpb25zLnVzZXJuYW1lLCBvcHRpb25zLnBhc3N3b3JkKVxuICAgIC8vaGFzIHRvIGJlIGFmdGVyIG9wZW5cbiAgICBpZighc3luYykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gISFvcHRpb25zLndpdGhDcmVkZW50aWFsc1xuICAgIH1cbiAgICAvLyBDYW5ub3Qgc2V0IHRpbWVvdXQgd2l0aCBzeW5jIHJlcXVlc3RcbiAgICAvLyBub3Qgc2V0dGluZyB0aW1lb3V0IG9uIHRoZSB4aHIgb2JqZWN0LCBiZWNhdXNlIG9mIG9sZCB3ZWJraXRzIGV0Yy4gbm90IGhhbmRsaW5nIHRoYXQgY29ycmVjdGx5XG4gICAgLy8gYm90aCBucG0ncyByZXF1ZXN0IGFuZCBqcXVlcnkgMS54IHVzZSB0aGlzIGtpbmQgb2YgdGltZW91dCwgc28gdGhpcyBpcyBiZWluZyBjb25zaXN0ZW50XG4gICAgaWYgKCFzeW5jICYmIG9wdGlvbnMudGltZW91dCA+IDAgKSB7XG4gICAgICAgIHRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFib3J0ZWQ9dHJ1ZS8vSUU5IG1heSBzdGlsbCBjYWxsIHJlYWR5c3RhdGVjaGFuZ2VcbiAgICAgICAgICAgIHhoci5hYm9ydChcInRpbWVvdXRcIilcbiAgICAgICAgICAgIHZhciBlID0gbmV3IEVycm9yKFwiWE1MSHR0cFJlcXVlc3QgdGltZW91dFwiKVxuICAgICAgICAgICAgZS5jb2RlID0gXCJFVElNRURPVVRcIlxuICAgICAgICAgICAgZXJyb3JGdW5jKGUpXG4gICAgICAgIH0sIG9wdGlvbnMudGltZW91dCApXG4gICAgfVxuXG4gICAgaWYgKHhoci5zZXRSZXF1ZXN0SGVhZGVyKSB7XG4gICAgICAgIGZvcihrZXkgaW4gaGVhZGVycyl7XG4gICAgICAgICAgICBpZihoZWFkZXJzLmhhc093blByb3BlcnR5KGtleSkpe1xuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgaGVhZGVyc1trZXldKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmhlYWRlcnMgJiYgIWlzRW1wdHkob3B0aW9ucy5oZWFkZXJzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZWFkZXJzIGNhbm5vdCBiZSBzZXQgb24gYW4gWERvbWFpblJlcXVlc3Qgb2JqZWN0XCIpXG4gICAgfVxuXG4gICAgaWYgKFwicmVzcG9uc2VUeXBlXCIgaW4gb3B0aW9ucykge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gb3B0aW9ucy5yZXNwb25zZVR5cGVcbiAgICB9XG5cbiAgICBpZiAoXCJiZWZvcmVTZW5kXCIgaW4gb3B0aW9ucyAmJlxuICAgICAgICB0eXBlb2Ygb3B0aW9ucy5iZWZvcmVTZW5kID09PSBcImZ1bmN0aW9uXCJcbiAgICApIHtcbiAgICAgICAgb3B0aW9ucy5iZWZvcmVTZW5kKHhocilcbiAgICB9XG5cbiAgICB4aHIuc2VuZChib2R5KVxuXG4gICAgcmV0dXJuIHhoclxuXG5cbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG4iLCJtb2R1bGUuZXhwb3J0cyA9IG9uY2Vcblxub25jZS5wcm90byA9IG9uY2UoZnVuY3Rpb24gKCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVuY3Rpb24ucHJvdG90eXBlLCAnb25jZScsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uY2UodGhpcylcbiAgICB9LFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KVxufSlcblxuZnVuY3Rpb24gb25jZSAoZm4pIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGNhbGxlZCkgcmV0dXJuXG4gICAgY2FsbGVkID0gdHJ1ZVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kXG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGV4dGVuZCgpIHtcbiAgICB2YXIgdGFyZ2V0ID0ge31cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV1cblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0XG59XG4iLCJ2YXIgYmVsID0gcmVxdWlyZSgnYmVsJykgLy8gdHVybnMgdGVtcGxhdGUgdGFnIGludG8gRE9NIGVsZW1lbnRzXG52YXIgbW9ycGhkb20gPSByZXF1aXJlKCdtb3JwaGRvbScpIC8vIGVmZmljaWVudGx5IGRpZmZzICsgbW9ycGhzIHR3byBET00gZWxlbWVudHNcbnZhciBkZWZhdWx0RXZlbnRzID0gcmVxdWlyZSgnLi91cGRhdGUtZXZlbnRzLmpzJykgLy8gZGVmYXVsdCBldmVudHMgdG8gYmUgY29waWVkIHdoZW4gZG9tIGVsZW1lbnRzIHVwZGF0ZVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJlbFxuXG4vLyBUT0RPIG1vdmUgdGhpcyArIGRlZmF1bHRFdmVudHMgdG8gYSBuZXcgbW9kdWxlIG9uY2Ugd2UgcmVjZWl2ZSBtb3JlIGZlZWRiYWNrXG5tb2R1bGUuZXhwb3J0cy51cGRhdGUgPSBmdW5jdGlvbiAoZnJvbU5vZGUsIHRvTm9kZSwgb3B0cykge1xuICBpZiAoIW9wdHMpIG9wdHMgPSB7fVxuICBpZiAob3B0cy5ldmVudHMgIT09IGZhbHNlKSB7XG4gICAgaWYgKCFvcHRzLm9uQmVmb3JlTW9ycGhFbCkgb3B0cy5vbkJlZm9yZU1vcnBoRWwgPSBjb3BpZXJcbiAgfVxuXG4gIHJldHVybiBtb3JwaGRvbShmcm9tTm9kZSwgdG9Ob2RlLCBvcHRzKVxuXG4gIC8vIG1vcnBoZG9tIG9ubHkgY29waWVzIGF0dHJpYnV0ZXMuIHdlIGRlY2lkZWQgd2UgYWxzbyB3YW50ZWQgdG8gY29weSBldmVudHNcbiAgLy8gdGhhdCBjYW4gYmUgc2V0IHZpYSBhdHRyaWJ1dGVzXG4gIGZ1bmN0aW9uIGNvcGllciAoZiwgdCkge1xuICAgIC8vIGNvcHkgZXZlbnRzOlxuICAgIHZhciBldmVudHMgPSBvcHRzLmV2ZW50cyB8fCBkZWZhdWx0RXZlbnRzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBldiA9IGV2ZW50c1tpXVxuICAgICAgaWYgKHRbZXZdKSB7IC8vIGlmIG5ldyBlbGVtZW50IGhhcyBhIHdoaXRlbGlzdGVkIGF0dHJpYnV0ZVxuICAgICAgICBmW2V2XSA9IHRbZXZdIC8vIHVwZGF0ZSBleGlzdGluZyBlbGVtZW50XG4gICAgICB9IGVsc2UgaWYgKGZbZXZdKSB7IC8vIGlmIGV4aXN0aW5nIGVsZW1lbnQgaGFzIGl0IGFuZCBuZXcgb25lIGRvZXNudFxuICAgICAgICBmW2V2XSA9IHVuZGVmaW5lZCAvLyByZW1vdmUgaXQgZnJvbSBleGlzdGluZyBlbGVtZW50XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGNvcHkgdmFsdWVzIGZvciBmb3JtIGVsZW1lbnRzXG4gICAgaWYgKChmLm5vZGVOYW1lID09PSAnSU5QVVQnICYmIGYudHlwZSAhPT0gJ2ZpbGUnKSB8fCBmLm5vZGVOYW1lID09PSAnVEVYVEFSRUEnIHx8IGYubm9kZU5hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICBpZiAodC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgPT09IG51bGwpIHQudmFsdWUgPSBmLnZhbHVlXG4gICAgfVxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFtcbiAgLy8gYXR0cmlidXRlIGV2ZW50cyAoY2FuIGJlIHNldCB3aXRoIGF0dHJpYnV0ZXMpXG4gICdvbmNsaWNrJyxcbiAgJ29uZGJsY2xpY2snLFxuICAnb25tb3VzZWRvd24nLFxuICAnb25tb3VzZXVwJyxcbiAgJ29ubW91c2VvdmVyJyxcbiAgJ29ubW91c2Vtb3ZlJyxcbiAgJ29ubW91c2VvdXQnLFxuICAnb25kcmFnc3RhcnQnLFxuICAnb25kcmFnJyxcbiAgJ29uZHJhZ2VudGVyJyxcbiAgJ29uZHJhZ2xlYXZlJyxcbiAgJ29uZHJhZ292ZXInLFxuICAnb25kcm9wJyxcbiAgJ29uZHJhZ2VuZCcsXG4gICdvbmtleWRvd24nLFxuICAnb25rZXlwcmVzcycsXG4gICdvbmtleXVwJyxcbiAgJ29udW5sb2FkJyxcbiAgJ29uYWJvcnQnLFxuICAnb25lcnJvcicsXG4gICdvbnJlc2l6ZScsXG4gICdvbnNjcm9sbCcsXG4gICdvbnNlbGVjdCcsXG4gICdvbmNoYW5nZScsXG4gICdvbnN1Ym1pdCcsXG4gICdvbnJlc2V0JyxcbiAgJ29uZm9jdXMnLFxuICAnb25ibHVyJyxcbiAgJ29uaW5wdXQnLFxuICAvLyBvdGhlciBjb21tb24gZXZlbnRzXG4gICdvbmNvbnRleHRtZW51JyxcbiAgJ29uZm9jdXNpbicsXG4gICdvbmZvY3Vzb3V0J1xuXVxuIl19
